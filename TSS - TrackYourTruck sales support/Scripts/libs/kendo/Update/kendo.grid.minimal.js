("function"==typeof define&&define.amd?define:function(e,t){return t()})([],function(){!function(e,t,n){function r(){}function o(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),r=e.substring(1);return"="===n?"+("+r+")+":":"===n?"+e("+r+")+":";"+e+";o+="}function i(e,t,n){return e+="",t=t||2,n=t-e.length,n?F[t].substring(0,n)+e:e}function a(t){var n,r,o,i,a,s,u,l,c,d,f,p,m,h=mt.browser,g="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(p=t.parent(".k-animation-container"),m=p[0].style,p.is(":hidden")&&p.show(),n=ht.test(m.width)||ht.test(m.height),n||p.css({width:t.outerWidth(),height:t.outerHeight()})):(r=t.css(it.support.transitions.css+"box-shadow")||t.css("box-shadow"),o=r?r.match(yt)||[0,0,0,0,0]:[0,0,0,0,0],i=ft.max(+o[3],+(o[4]||0)),a=-o[1]+i,s=+o[1]+i,u=+o[2]+i,l=t[0].style.width,c=t[0].style.height,d=ht.test(l),f=ht.test(c),h.opera&&(a=s=u=5),n=d||f,d||(l=t.outerWidth()),f||(c=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:l,height:c,marginLeft:a*(g?1:-1),paddingLeft:a,paddingRight:s,paddingBottom:u})),n&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),h.msie&&ft.floor(h.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function s(e){var t=1,n=arguments.length;for(t=1;n>t;t++)u(e,arguments[t]);return e}function u(e,t){var n,r,o,i,a=it.data.ObservableArray,s=it.data.DataSource;for(n in t)r=t[n],o=typeof r,o===St&&null!==r&&r.constructor!==Array&&r.constructor!==a&&r.constructor!==s?r instanceof Date?e[n]=new Date(r.getTime()):(i=e[n],e[n]=typeof i===St?i||{}:{},u(e[n],r)):o!==Ot&&(e[n]=r);return e}function l(e,t,r){for(var o in t)if(t.hasOwnProperty(o)&&t[o].test(e))return o;return r!==n?r:e}function c(t,n){var r,o={};return document.defaultView&&document.defaultView.getComputedStyle?(r=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){o[t]=r.getPropertyValue(t)})):(r=t.currentStyle,n&&e.each(n,function(e,t){o[t]=r[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]})),it.size(o)||(o=r),o}function d(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function f(e,t,n){var r,o,i,a;return t||(t="offset"),r=e[t](),o=mt.mobileOS,mt.touch&&o.ios&&o.flatVersion<410&&(i="offset"==t?r:e.offset(),a=r.left==i.left&&r.top==i.top)?{top:r.top-window.scrollY,left:r.left-window.scrollX}:(it.support.pointers&&!n&&(r.top-=window.pageYOffset-document.documentElement.scrollTop,r.left-=window.pageXOffset-document.documentElement.scrollLeft),r)}function p(e){var t={};return st("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function m(e){return new it.effects.Element(e)}function h(e,t,n,r){return typeof e===bt&&(dt(t)&&(r=t,t=400,n=!1),dt(n)&&(r=n,n=!1),typeof t===xt&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:r}),at({effects:{},duration:400,reverse:!1,init:ct,teardown:ct,hide:!1},e,{completeCallback:e.complete,complete:ct})}function g(t,n,r,o,i){for(var a,s=0,u=t.length;u>s;s++)a=e(t[s]),a.queue(function(){I.promise(a,h(n,r,o,i))});return t}function y(e,t,n,r,o,i){return I.transitionPromise(e,t,h(n,r,o,i))}function v(e,t,n,r){return t&&(t=t.split(" "),st(t,function(t,n){e.toggleClass(n,r)})),e}function w(e){return(""+e).replace(W,"&amp;").replace(L,"&lt;").replace(U,"&gt;")}function b(e,r){var o;return 0===r.indexOf("data")&&(r=r.substring(4),r=r.charAt(0).toLowerCase()+r.substring(1)),r=r.replace(G,"-$1"),o=e.getAttribute("data-"+it.ns+r),null===o?o=n:"null"===o?o=null:"true"===o?o=!0:"false"===o?o=!1:vt.test(o)?o=parseFloat(o):B.test(o)&&!V.test(o)&&(o=t("("+o+")")),o}function M(t,r){var o,i,a={};for(o in r)i=b(t,o),i!==n&&(Y.test(o)&&(i=it.template(e("#"+i).html())),a[o]=i);return a}function S(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&T(e)}function T(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function x(e,t){return new x.fn.init(e,t)}var O,D,k,C,z,H,E,A,N,P,F,_,I,W,L,U,j,R,J,$,Y,B,V,G,K,Q,q,X,Z,et,tt,nt,rt,ot,it=window.kendo=window.kendo||{},at=e.extend,st=e.each,ut=e.proxy,lt=e.isArray,ct=e.noop,dt=e.isFunction,ft=Math,pt=window.JSON||{},mt={},ht=/%/,gt=/\{(\d+)(:[^\}]+)?\}/g,yt=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,vt=/^(\+|-?)\d+(\.?)\d*$/,wt="function",bt="string",Mt="number",St="object",Tt="null",xt="boolean",Ot="undefined",Dt={},kt={},Ct=[].slice,zt=window.Globalize;it.version="2013.2.716",r.extend=function(e){var t,n,r=function(){},o=this,i=e&&e.init?e.init:function(){o.apply(this,arguments)};r.prototype=o.prototype,n=i.fn=i.prototype=new r;for(t in e)n[t]=typeof e[t]!==St||e[t]instanceof Array||null===e[t]?e[t]:at(!0,{},r.prototype[t],e[t]);return n.constructor=i,i.extend=o.extend,i},D=function(){this._defaultPrevented=!0},k=function(){return this._defaultPrevented===!0},C=r.extend({init:function(){this._events={}},bind:function(e,t,r){var o,i,a,s,u,l=this,c=typeof e===bt?[e]:e,d=typeof t===wt;if(t===n){for(o in e)l.bind(o,e[o]);return l}for(o=0,i=c.length;i>o;o++)e=c[o],s=d?t:t[e],s&&(r&&(a=s,s=function(){l.unbind(e,s),a.apply(l,arguments)}),u=l._events[e]=l._events[e]||[],u.push(s));return l},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,r,o,i,a=this,s=typeof e===bt?[e]:e,u=typeof t===wt;for(n=0,r=s.length;r>n;n++)e=s[n],o=u?t:t[e],o&&(i=a._events[e]=a._events[e]||[],i.unshift(o));return a},trigger:function(e,t){var n,r,o=this,i=o._events[e];if(i){for(t=t||{},t.sender=o,t._defaultPrevented=!1,t.preventDefault=D,t.isDefaultPrevented=k,i=i.slice(),n=0,r=i.length;r>n;n++)i[n].call(o,t);return t._defaultPrevented===!0}return!1},unbind:function(e,t){var r,o=this,i=o._events[e];if(e===n)o._events={};else if(i)if(t)for(r=i.length-1;r>=0;r--)i[r]===t&&i.splice(r,1);else o._events[e]=[];return o}}),z=/^\w+/,H=/\$\{([^}]*)\}/g,E=/\\\}/g,A=/__CURLY__/g,N=/\\#/g,P=/__SHARP__/g,F=["","0","00","000","0000"],O={paramName:"data",useWithBlock:!0,render:function(e,t){var n,r,o="";for(n=0,r=t.length;r>n;n++)o+=e(t[n]);return o},compile:function(t,n){var r,i,a,s=at({},this,n),u=s.paramName,l=u.match(z)[0],c=s.useWithBlock,d="var o,e=kendo.htmlEncode;";if(dt(t))return 2===t.length?function(n){return t(e,{data:n}).join("")}:t;for(d+=c?"with("+u+"){":"",d+="o=",i=t.replace(E,"__CURLY__").replace(H,"#=e($1)#").replace(A,"}").replace(N,"__SHARP__").split("#"),a=0;a<i.length;a++)d+=o(i[a],0===a%2);d+=c?";}":";",d+="return o;",d=d.replace(P,"#");try{return r=Function(l,d),r._slotCount=Math.floor(i.length/2),r}catch(f){throw Error(it.format("Invalid template:'{0}' Generated code:'{1}'",t,d))}}},function(){function e(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,function(e){var t=s[e];return typeof t===bt?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(i,a){var s,l,c,d,f,p,m=n,h=a[i];if(h&&typeof h===St&&typeof h.toJSON===wt&&(h=h.toJSON(i)),typeof o===wt&&(h=o.call(a,i,h)),p=typeof h,p===bt)return e(h);if(p===Mt)return isFinite(h)?h+"":Tt;if(p===xt||p===Tt)return h+"";if(p===St){if(!h)return Tt;if(n+=r,f=[],"[object Array]"===u.apply(h)){for(d=h.length,s=0;d>s;s++)f[s]=t(s,h)||Tt;return c=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+m+"]":"["+f.join(",")+"]",n=m,c}if(o&&typeof o===St)for(d=o.length,s=0;d>s;s++)typeof o[s]===bt&&(l=o[s],c=t(l,h),c&&f.push(e(l)+(n?": ":":")+c));else for(l in h)Object.hasOwnProperty.call(h,l)&&(c=t(l,h),c&&f.push(e(l)+(n?": ":":")+c));return c=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+m+"}":"{"+f.join(",")+"}",n=m,c}}var n,r,o,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u={}.toString;typeof Date.prototype.toJSON!==wt&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?i(e.getUTCFullYear(),4)+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof pt.stringify!==wt&&(pt.stringify=function(e,i,a){var s;if(n="",r="",typeof a===Mt)for(s=0;a>s;s+=1)r+=" ";else typeof a===bt&&(r=a);if(o=i,i&&typeof i!==wt&&(typeof i!==St||typeof i.length!==Mt))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function e(e){if(e){if(e.numberFormat)return e;if(typeof e===bt){var t=it.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function t(t){return t&&(t=e(t)),t||it.cultures.current}function r(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function o(e,r,o){o=t(o);var a=o.calendars.standard,s=a.days,u=a.months;return r=a.patterns[r]||r,r.replace(l,function(t){var r;return"d"===t?r=e.getDate():"dd"===t?r=i(e.getDate()):"ddd"===t?r=s.namesAbbr[e.getDay()]:"dddd"===t?r=s.names[e.getDay()]:"M"===t?r=e.getMonth()+1:"MM"===t?r=i(e.getMonth()+1):"MMM"===t?r=u.namesAbbr[e.getMonth()]:"MMMM"===t?r=u.names[e.getMonth()]:"yy"===t?r=i(e.getFullYear()%100):"yyyy"===t?r=i(e.getFullYear(),4):"h"===t?r=e.getHours()%12||12:"hh"===t?r=i(e.getHours()%12||12):"H"===t?r=e.getHours():"HH"===t?r=i(e.getHours()):"m"===t?r=e.getMinutes():"mm"===t?r=i(e.getMinutes()):"s"===t?r=e.getSeconds():"ss"===t?r=i(e.getSeconds()):"f"===t?r=ft.floor(e.getMilliseconds()/100):"ff"===t?r=ft.floor(e.getMilliseconds()/10):"fff"===t?r=e.getMilliseconds():"tt"===t&&(r=e.getHours()<12?a.AM[0]:a.PM[0]),r!==n?r:t.slice(1,t.length-1)})}function a(e,r,o){o=t(o);var i,a,u,l,w,b,M,S,T,x,O,D,k,C,z,H,E,A,N,P,F,_,I,W=o.numberFormat,L=W.groupSize[0],U=W[h],j=W[m],R=W.decimals,J=W.pattern[0],$=[],Y=0>e,B=p,V=p,G=-1;if(e===n)return p;if(!isFinite(e))return e;if(!r)return o.name.length?e.toLocaleString():""+e;if(w=c.exec(r)){if(r=w[1].toLowerCase(),a="c"===r,u="p"===r,(a||u)&&(W=a?W.currency:W.percent,L=W.groupSize[0],U=W[h],j=W[m],R=W.decimals,i=W.symbol,J=W.pattern[Y?0:1]),l=w[2],l&&(R=+l),"e"===r)return l?e.toExponential(R):e.toExponential();if(u&&(e*=100),e=s(e,R),e=e.split(m),b=e[0],M=e[1],Y&&(b=b.substring(1)),V=b,S=b.length,S>=L)for(V=p,x=0;S>x;x++)x>0&&0===(S-x)%L&&(V+=U),V+=b.charAt(x);if(M&&(V+=j+M),"n"===r&&!Y)return V;for(e=p,x=0,O=J.length;O>x;x++)D=J.charAt(x),e+="n"===D?V:"$"===D||"%"===D?i:D;return e}if(Y&&(e=-e),(r.indexOf("'")>-1||r.indexOf('"')>-1||r.indexOf("\\")>-1)&&(r=r.replace(d,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return $.push(n),v})),r=r.split(";"),Y&&r[1])r=r[1],C=!0;else if(0===e){if(r=r[2]||r[0],-1==r.indexOf(g)&&-1==r.indexOf(y))return r}else r=r[0];if(P=r.indexOf("%"),F=r.indexOf("$"),u=-1!=P,a=-1!=F,u&&(e*=100),a&&"\\"===r[F-1]&&(r=r.split("\\").join(""),a=!1),(a||u)&&(W=a?W.currency:W.percent,L=W.groupSize[0],U=W[h],j=W[m],R=W.decimals,i=W.symbol),k=r.indexOf(h)>-1,k&&(r=r.replace(f,p)),z=r.indexOf(m),O=r.length,-1!=z?(M=(""+e).split("e"),M=M[1]?s(e,Math.abs(M[1])):M[0],M=M.split(m)[1]||p,E=r.lastIndexOf(y)-z,H=r.lastIndexOf(g)-z,A=E>-1,N=H>-1,x=M.length,A||N||(r=r.substring(0,z)+r.substring(z+1),O=r.length,z=-1,x=0),A&&E>H?x=E:H>E&&(N&&x>H?x=H:A&&E>x&&(x=E)),x>-1&&(e=s(e,x))):e=s(e),H=r.indexOf(g),_=E=r.indexOf(y),G=-1==H&&-1!=E?E:-1!=H&&-1==E?H:H>E?E:H,H=r.lastIndexOf(g),E=r.lastIndexOf(y),I=-1==H&&-1!=E?E:-1!=H&&-1==E?H:H>E?H:E,G==O&&(I=G),-1!=G){if(V=(""+e).split(m),b=V[0],M=V[1]||p,S=b.length,T=M.length,k)if(S===L&&z-_>S)b=U+b;else if(S>L){for(V=p,x=0;S>x;x++)x>0&&0===(S-x)%L&&(V+=U),V+=b.charAt(x);b=V}for(e=r.substring(0,G),Y&&!C&&(e+="-"),x=G;O>x;x++){if(D=r.charAt(x),-1==z){if(S>I-x){e+=b;break}}else if(-1!=E&&x>E&&(B=p),S>=z-x&&z-x>-1&&(e+=b,x=z),z===x){e+=(M?j:p)+M,x+=I-z+1;continue}D===y?(e+=D,B=D):D===g&&(e+=B)}if(I>=G&&(e+=r.substring(I+1)),a||u){for(V=p,x=0,O=e.length;O>x;x++)D=e.charAt(x),V+="$"===D||"%"===D?i:D;e=V}if(O=$.length)for(x=0;O>x;x++)e=e.replace(v,$[x])}return e}var s,u,l=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,c=/^(n|c|p|e)(\d*)$/i,d=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,f=/\,/g,p="",m=".",h=",",g="#",y="0",v="??",w="en-US",b={}.toString;it.cultures={"en-US":{name:w,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}}},it.culture=function(t){var o,i=it.cultures;return t===n?i.current:(o=e(t)||i[w],o.calendar=o.calendars.standard,i.current=o,zt&&r(o.numberFormat),n)},it.findCulture=e,it.getCulture=t,it.culture(w),s=function(e,t){var n=Math.pow(10,t||0);return(Math.round(e*n)/n).toFixed(t)},u=function(e,t,r){if(t){if("[object Date]"===b.call(e))return o(e,t,r);if(typeof e===Mt)return a(e,t,r)}return e!==n?e:""},zt&&(u=ut(zt.format,zt)),it.format=function(e){var t=arguments;return e.replace(gt,function(e,n,r){var o=t[parseInt(n,10)+1];return u(o,r?r.substring(1):"")})},it._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},it._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},it._round=s,it.toString=u}(),function(){function t(e,t,n){return!(e>=t&&n>=e)}function r(e){return e.charAt(0)}function o(t){return e.map(t,r)}function i(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function a(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=(e[t]+"").toLowerCase();return r}function s(e){var t,n={};for(t in e)n[t]=a(e[t]);return n}function u(e,r,a){if(!e)return null;var u,l,c,p,m,g,y,v,w,b,M,S,T=function(e){for(var t=0;r[F]===e;)t++,F++;return t>0&&(F-=1),t},x=function(t){var n=h[t]||RegExp("^\\d{1,"+t+"}"),r=e.substr(_,t).match(n);return r?(r=r[0],_+=r.length,parseInt(r,10)):null},O=function(t,n){for(var r,o,i,a=0,s=t.length;s>a;a++)if(r=t[a],o=r.length,i=e.substr(_,o),n&&(i=i.toLowerCase()),i==r)return _+=o,a+1;return null},D=function(){var t=!1;return e.charAt(_)===r[F]&&(_++,t=!0),t},k=a.calendars.standard,C=null,z=null,H=null,E=null,A=null,N=null,P=null,F=0,_=0,I=!1,W=new Date,L=k.twoDigitYearMax||2029,U=W.getFullYear();for(r||(r="d"),p=k.patterns[r],p&&(r=p),r=r.split(""),c=r.length;c>F;F++)if(u=r[F],I)"'"===u?I=!1:D();else if("d"===u){if(l=T("d"),k._lowerDays||(k._lowerDays=s(k.days)),H=3>l?x(2):O(k._lowerDays[3==l?"namesAbbr":"names"],!0),null===H||t(H,1,31))return null}else if("M"===u){if(l=T("M"),k._lowerMonths||(k._lowerMonths=s(k.months)),z=3>l?x(2):O(k._lowerMonths[3==l?"namesAbbr":"names"],!0),null===z||t(z,1,12))return null;z-=1}else if("y"===u){if(l=T("y"),C=x(l),null===C)return null;2==l&&("string"==typeof L&&(L=U+parseInt(L,10)),C=U-U%100+C,C>L&&(C-=100))}else if("h"===u){if(T("h"),E=x(2),12==E&&(E=0),null===E||t(E,0,11))return null}else if("H"===u){if(T("H"),E=x(2),null===E||t(E,0,23))return null}else if("m"===u){if(T("m"),A=x(2),null===A||t(A,0,59))return null}else if("s"===u){if(T("s"),N=x(2),null===N||t(N,0,59))return null}else if("f"===u){if(l=T("f"),P=x(l),null!==P&&l>3&&(P=parseInt((""+P).substring(0,3),10)),null===P||t(P,0,999))return null}else if("t"===u){if(l=T("t"),w=k.AM,b=k.PM,1===l&&(w=o(w),b=o(b)),m=O(b),!m&&!O(w))return null}else if("z"===u){if(g=!0,l=T("z"),"Z"===e.substr(_,1)){if(!y)return null;D();continue}if(v=e.substr(_,6).match(l>2?f:d),!v)return null;if(v=v[0],_=v.length,v=v.split(":"),M=parseInt(v[0],10),t(M,-12,13))return null;if(l>2&&(S=parseInt(v[1],10),isNaN(S)||t(S,0,59)))return null}else if("T"===u)y=D();else if("'"===u)I=!0,D();else if(!D())return null;return null===C&&(C=U),m&&12>E&&(E+=12),null===H&&(H=1),g?(M&&(E+=-M),S&&(A+=-S),e=new Date(Date.UTC(C,z,H,E,A,N,P))):(e=new Date(C,z,H,E,A,N,P),i(e,E)),100>C&&e.setFullYear(C),e.getDate()!==H&&g===n?null:e}var l=/\u00A0/g,c=/[eE][\-+]?[0-9]+/,d=/[+|\-]\d{1,2}/,f=/[+|\-]\d{1,2}:\d{2}/,p=/^\/Date\((.*?)\)\/$/,m=["G","g","d","F","D","y","m","T","t"],h={2:/^\d{1,2}/,4:/^\d{4}/},g={}.toString;it.parseDate=function(e,t,n){if("[object Date]"===g.call(e))return e;var r,o,i=0,a=null;if(e&&0===e.indexOf("/D")&&(a=p.exec(e)))return new Date(parseInt(a[1],10));if(n=it.getCulture(n),!t){for(t=[],o=n.calendar.patterns,r=m.length;r>i;i++)t[i]=o[m[i]];i=0,t.push("yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd")}for(t=lt(t)?t:[t],r=t.length;r>i;i++)if(a=u(e,t[i],n))return a;return a},it.parseInt=function(e,t){var n=it.parseFloat(e,t);return n&&(n=0|n),n},it.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===Mt)return e;e=""+e,t=it.getCulture(t);var r,o,i=t.numberFormat,a=i.percent,s=i.currency,u=s.symbol,d=a.symbol,f=e.indexOf("-");return c.test(e)?(e=parseFloat(e),isNaN(e)&&(e=null),e):f>0?null:(f=f>-1,e.indexOf(u)>-1||n&&n.toLowerCase().indexOf("c")>-1?(i=s,r=i.pattern[0].replace("$",u).split("n"),e.indexOf(r[0])>-1&&e.indexOf(r[1])>-1&&(e=e.replace(r[0],"").replace(r[1],""),f=!0)):e.indexOf(d)>-1&&(o=!0,i=a,u=d),e=e.replace("-","").replace(u,"").replace(l," ").split(i[","].replace(l," ")).join("").replace(i["."],"."),e=parseFloat(e),isNaN(e)?e=null:f&&(e*=-1),e&&o&&(e/=100),e)},zt&&(it.parseDate=function(e,t,n){return"[object Date]"===g.call(e)?e:zt.parseDate(e,t,n)},it.parseFloat=function(e,t){return typeof e===Mt?e:e===n||null===e?null:(e=zt.parseFloat(e,t),isNaN(e)?null:e)})}(),function(){function t(e){var t,n=!1,r=[],o={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in o)if(o.hasOwnProperty(t)&&(r=e.match(o[t]))){n={},n[t]=!0,n[r[1].toLowerCase()]=!0,n.version=parseInt(document.documentMode||r[2],10);break}return n}var r,o,i,a,s,u;mt.scrollbar=function(){var e,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",document.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),e},mt.isRtl=function(t){return e(t).closest(".k-rtl").length>0},r=document.createElement("table");try{r.innerHTML="<tr><td></td></tr>",mt.tbodyInnerHtml=!0}catch(c){mt.tbodyInnerHtml=!1}mt.touch="ontouchstart"in window,mt.pointers=navigator.msPointerEnabled,o=mt.transitions=!1,i=mt.transforms=!1,a="HTMLElement"in window?HTMLElement.prototype:[],mt.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,st(["Moz","webkit","O","ms"],function(){var e,t=""+this,a=typeof r.style[t+"Transition"]===bt;return a||typeof r.style[t+"Transform"]===bt?(e=t.toLowerCase(),i={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},a&&(o=i,o.event=o.event?o.event+"TransitionEnd":"transitionend"),!1):n}),mt.transforms=i,mt.transitions=o,mt.devicePixelRatio=window.devicePixelRatio===n?1:window.devicePixelRatio;try{mt.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,mt.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight,mt.zoomLevel=function(){return mt.touch?document.documentElement.clientWidth/window.innerWidth:mt.pointers?(top||window).outerWidth/(top||window).innerWidth:1}}catch(c){mt.screenWidth=window.screen.availWidth,mt.screenHeight=window.screen.availHeight,mt.zoomLevel=function(){return 1}}mt.detectOS=function(e){var t,n,r=!1,o=[],i=!/mobile safari/i.test(e),a={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},s={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},u={tablet:/playbook|ipad|fire/i},c={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(n in a)if(a.hasOwnProperty(n)&&(o=e.match(a[n]))){if("windows"==n&&"plugins"in navigator)return!1;r={},r.device=n,r.tablet=l(n,u,!1),r.browser=l(e,c,"default"),r.name=l(n,s),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=o[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+Array(3-(t.length<3?t.length:2)).join("0"),r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||typeof window.PhoneGap!==Ot||typeof window.cordova!==Ot,r.android&&(mt.devicePixelRatio<1.5&&r.flatVersion<400||i)&&(mt.screenWidth>800||mt.screenHeight>800)&&(r.tablet=n);break}return r},s=mt.mobileOS=mt.detectOS(navigator.userAgent),mt.wpDevicePixelRatio=s.wp?screen.width/320:0,mt.kineticScrollNeeded=s&&(mt.touch||mt.pointers),mt.hasNativeScrolling=!1,(s.ios&&s.majorVersion>4||s.android&&s.majorVersion>2||s.wp)&&(mt.hasNativeScrolling=s),mt.mouseAndTouchPresent=mt.touch&&!(mt.mobileOS.ios||mt.mobileOS.android),mt.browser=t(navigator.userAgent),mt.cssBorderSpacing=n!==document.documentElement.style.borderSpacing&&!(mt.browser.msie&&mt.browser.version<8),function(t){var n,r=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&e(document.documentElement).addClass("k-"+n+" k-"+n+r)}(mt.browser),mt.eventCapture=document.documentElement.addEventListener,mt.placeholder="placeholder"in document.createElement("input"),mt.stableSort=function(){var e=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===e[0]&&1===e[1]&&2===e[2]&&3===e[3]&&4===e[4]&&5===e[5]&&6===e[6]&&7===e[7]&&8===e[8]&&9===e[9]&&10===e[10]&&11===e[11]&&12===e[12]}(),mt.matchesSelector=a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.matchesSelector||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),r=n.length;r--;)if(n[r]==this)return!0;return!1},mt.pushState=window.history&&window.history.pushState,u=document.documentMode,mt.hashChange="onhashchange"in window&&!(mt.browser.msie&&(!u||8>=u))}(),_={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},I={},e.extend(I,{Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},transitionPromise:function(e,t,n){var r=it.wrap(e);return r.append(t),e.hide(),t.show(),n.completeCallback&&n.completeCallback(e),e}}),"kendoAnimate"in e.fn||at(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,r){return g(this,e,t,n,r)},kendoAnimateTo:function(e,t,n,r,o){return y(this,e,t,n,r,o)},kendoAddClass:function(e,t){return it.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return it.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return it.toggleClass(this,e,t,n)}}),W=/&/g,L=/</g,U=/>/g,j=function(e){return e.target},mt.touch&&(j=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},st(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),mt.touch?mt.mobileOS?(mt.mousedown="touchstart",mt.mouseup="touchend",mt.mousemove="touchmove",mt.mousecancel="touchcancel",mt.click="touchend",mt.resize="orientationchange"):(mt.mousedown="mousedown touchstart",mt.mouseup="mouseup touchend",mt.mousemove="mousemove touchmove",mt.mousecancel="mouseleave touchcancel",mt.click="click",mt.resize="resize"):mt.pointers?(mt.mousemove="MSPointerMove",mt.mousedown="MSPointerDown",mt.mouseup="MSPointerUp",mt.mousecancel="MSPointerCancel",mt.click="MSPointerUp",mt.resize="orientationchange resize"):(mt.mousemove="mousemove",mt.mousedown="mousedown",mt.mouseup="mouseup",mt.mousecancel="mouseleave",mt.click="click",mt.resize="resize"),R=function(e,t){var n,r,o,i,a=t||"d",s=1;for(r=0,o=e.length;o>r;r++)i=e[r],""!==i&&(n=i.indexOf("["),0!==n&&(-1==n?i="."+i:(s++,i="."+i.substring(0,n)+" || {})"+i.substring(n))),s++,a+=i+(o-1>r?" || {})":")"));return Array(s).join("(")+a},J=/^([a-z]+:)?\/\//i,at(it,{ui:it.ui||{},fx:it.fx||m,effects:it.effects||I,mobile:it.mobile||{},data:it.data||{},dataviz:it.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:it.support||mt,animate:it.animate||g,ns:"",attr:function(e){return"data-"+it.ns+e},wrap:a,deepExtend:s,getComputedStyles:c,size:d,getOffset:it.getOffset||f,parseEffects:it.parseEffects||p,toggleClass:it.toggleClass||v,directions:it.directions||_,Observable:C,Class:r,Template:O,template:ut(O.compile,O),render:ut(O.render,O),stringify:ut(pt.stringify,pt),eventTarget:j,htmlEncode:w,isLocalUrl:function(e){return e&&!J.test(e)},expr:function(e,t,n){return e=e||"",typeof t==bt&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),e=t?R(e.split("."),n):n+e},getter:function(e,t){return Dt[e]=Dt[e]||Function("d","return "+it.expr(e,t))},setter:function(e){return kt[e]=kt[e]||Function("d,value",it.expr(e)+"=value")},accessor:function(e){return{get:it.getter(e),set:it.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=0|16*ft.random(),(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?8|3&t:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+it.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(e){var t=window.console;n!==t&&t.log&&t.log(e)}}),$=C.extend({init:function(e,t){var n=this;n.element=it.jQuery(e).handler(n),C.fn.init.call(n),t=n.options=at(!0,{},n.options,t),n.element.attr(it.attr("role"))||n.element.attr(it.attr("role"),(t.name||"").toLowerCase()),n.element.data("kendo"+t.prefix+t.name,n),n.bind(n.events,t)},events:[],options:{prefix:""},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",r=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(r)?0:r)},setOptions:function(t){for(var n,r=this,o=0,i=r.events.length;i>o;o++)n=r.events[o],r.options[n]&&t[n]&&r.unbind(n,r.options[n]);e.extend(r.options,t),r.bind(r.events,t)},destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()}}),it.notify=ct,Y=/template$/i,B=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,V=/^\{(\d+)(:[^\}]+)?\}/,G=/([A-Z])/g,it.initWidget=function(t,r,o){var i,a,s,u,l,c,d,f;if(o?o.roles&&(o=o.roles):o=it.ui.roles,t=t.nodeType?t:t[0],c=t.getAttribute("data-"+it.ns+"role"),c&&(s=-1===c.indexOf(".")?o[c]:it.getter(c)(window))){for(f=b(t,"dataSource"),r=e.extend({},M(t,s.fn.options),r),f&&(r.dataSource=typeof f===bt?it.getter(f)(window):f),u=0,l=s.fn.events.length;l>u;u++)a=s.fn.events[u],d=b(t,a),d!==n&&(r[a]=it.getter(d)(window));return i=e(t).data("kendo"+s.fn.options.prefix+s.fn.options.name),i?i.setOptions(r):i=new s(t,r),i}},it.rolesFromNamespaces=function(e){var t,n,r=[];for(e[0]||(e=[it.ui,it.dataviz.ui]),t=0,n=e.length;n>t;t++)r[t]=e[t].roles;return at.apply(null,[{}].concat(r.reverse()))},it.init=function(t){var n=it.rolesFromNamespaces(Ct.call(arguments,1));e(t).find("[data-"+it.ns+"role]").andSelf().each(function(){it.initWidget(this,{},n)})},it.destroy=function(t){e(t).find("[data-"+it.ns+"role]").andSelf().each(function(){var t=e(this),n=it.widgetInstance(t,it.ui)||it.widgetInstance(t,it.mobile.ui)||it.widgetInstance(t,it.dataviz.ui);n&&n.destroy()})},it.parseOptions=M,at(it.ui,{Widget:$,roles:{},progress:function(t,n){var r,o,i,a,s=t.find(".k-loading-mask"),u=it.support,l=u.browser;n?s.length||(r=u.isRtl(t),o=r?"right":"left",a=t.scrollLeft(),i=l.webkit?r?t[0].scrollWidth-t.width()-2*a:0:0,s=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(o,Math.abs(a)+i).prependTo(t)):s&&s.remove()},plugin:function(t,r,o){var i,a=t.fn.options.name;r=r||it.ui,o=o||"",r[a]=t,r.roles[a.toLowerCase()]=t,i="getKendo"+o+a,a="kendo"+o+a,e.fn[a]=function(r){var o,i=this;return typeof r===bt?(o=Ct.call(arguments,1),this.each(function(){var t,s,u=e.data(this,a);if(!u)throw Error(it.format("Cannot call method '{0}' of {1} before it is initialized",r,a));if(t=u[r],typeof t!==wt)throw Error(it.format("Cannot find method '{0}' of {1}",r,a));return s=t.apply(u,o),s!==n?(i=s,!1):n})):this.each(function(){new t(this,r)}),i},e.fn[i]=function(){return this.data(a)}}}),K={bind:function(){return this}},Q=$.extend({init:function(e,t){$.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element},destroy:function(){$.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(it.roleSelector("view splitview modalview drawer"));return it.widgetInstance(e,it.mobile.ui)},container:function(){var e=this.element.closest(it.roleSelector("view layout modalview drawer"));return it.widgetInstance(e,it.mobile.ui)||K}}),at(it.mobile,{init:function(e){it.init(e,it.mobile.ui,it.ui,it.dataviz.ui)},ui:{Widget:Q,roles:{},plugin:function(e){it.ui.plugin(e,it.mobile.ui,"Mobile")}}}),it.touchScroller=function(t,n){return e(t).map(function(t,r){return r=e(r),mt.kineticScrollNeeded&&it.mobile.ui.Scroller&&!r.data("kendoMobileScroller")?(r.kendoMobileScroller(n),r.data("kendoMobileScroller")):!1})[0]},it.preventDefault=function(e){e.preventDefault()},it.widgetInstance=function(e,t){var r=t.roles[e.data(it.ns+"role")];return r?e.data("kendo"+r.fn.options.prefix+r.fn.options.name):n},it.onResize=function(t){var n=t;return mt.mobileOS.android&&(n=function(){setTimeout(t,200)}),e(window).on(mt.resize,n),n},it.unbindResize=function(t){e(window).off(mt.resize,t)},it.attrValue=function(e,t){return e.data(it.ns+t)},it.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{focusable:function(t){var n=e.attr(t,"tabindex");return S(t,!isNaN(n)&&n>-1)}}),q=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],X="label, input, [data-rel=external]",Z={setupMouseMute:function(){var t,n=0,r=q.length,o=document.documentElement;
if(!Z.mouseTrap&&mt.eventCapture)for(Z.mouseTrap=!0,Z.bustClick=!1,Z.captureMouse=!1,t=function(t){Z.captureMouse&&("click"===t.type?Z.bustClick&&!e(t.target).is(X)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};r>n;n++)o.addEventListener(q[n],t,!0)},muteMouse:function(e){Z.captureMouse=!0,e.data.bustClick&&(Z.bustClick=!0),clearTimeout(Z.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Z.mouseTrapTimeoutID),Z.mouseTrapTimeoutID=setTimeout(function(){Z.captureMouse=!1,Z.bustClick=!1},400)}},et={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},mt.touch&&(mt.mobileOS.ios||mt.mobileOS.android)&&(et={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}),mt.pointers&&(et={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"},e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,o=this,i=t.relatedTarget,a=t.handleObj;return(!i||i!==o&&!e.contains(o,i))&&(t.type=a.origType,r=a.handler.apply(this,arguments),t.type=n),r}}})),tt=function(e){return et[e]||e},nt=/([^ ]+)/g,it.applyEventMap=function(e,t){return e=e.replace(nt,tt),t&&(e=e.replace(nt,"$1."+t)),e},rt=e.fn.on,at(!0,x,e),x.fn=x.prototype=new e,x.fn.constructor=x,x.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof x)&&(n=x(n)),e.fn.init.call(this,t,n,ot)},x.fn.init.prototype=x.fn,ot=x(document),at(x.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||it.guid()),this},on:function(){var e,t,n,r,o,i,a=this,s=a.data("kendoNS");return 1===arguments.length?rt.call(a,arguments[0]):(e=a,t=Ct.call(arguments),typeof t[t.length-1]===Ot&&t.pop(),n=t[t.length-1],r=it.applyEventMap(t[0],s),mt.mouseAndTouchPresent&&r.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(Z.setupMouseMute(),o=2===t.length?null:t[1],i=r.indexOf("click")>-1&&r.indexOf("touchend")>-1,rt.call(this,{touchstart:Z.muteMouse,touchend:Z.unMuteMouse},o,{bustClick:i})),typeof n===bt&&(e=a.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=r,rt.apply(a,t),a)},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),it.jQuery=x,it.eventMap=et,it.timezone=function(){function e(e,t){var n,r,o,i=t[3],a=t[4],s=t[5],u=t[8];return u||(t[8]=u={}),u[e]?u[e]:(isNaN(a)?0===a.indexOf("last")?(n=new Date(Date.UTC(e,l[i]+1,1,s[0]-24,s[1],s[2],0)),r=c[a.substr(4,3)],o=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-o-(r>o?7:0))):a.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,l[i],a.substr(5),s[0],s[1],s[2],0)),r=c[a.substr(0,3)],o=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-o+(o>r?7:0))):n=new Date(Date.UTC(e,l[i],a,s[0],s[1],s[2],0)),u[e]=n)}function t(t,n,r){var o,i,a;return(n=n[r])?(a=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return a>=t&&(n>=a||t==a&&"only"==n||"max"==n)}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=Number(e(a,t))),"number"!=typeof n&&(n=Number(e(a,n))),t-n}),n[jQuery.inArray(t,n)-1]):(o=r.split(":"),i=0,o.length>1&&(i=60*o[0]+Number(o[1])),[-1e6,"max","-","Jan",1,[0,0,0],i,"-"])}function n(e,t,n){var r,o,i;if(t=t[n],!t)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(r=t.length-1;r>=0&&(o=t[r][3],!(o&&e>o));r--);if(i=t[r+1],!i)throw Error('Timezone "'+n+'" not found on '+e+".");return i}function r(e,r,o,i){typeof e!=Mt&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var a=n(e,r,i);return{zone:a,rule:t(e,o,a[1])}}function o(e,t){var n,o,i;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=r(e,this.zones,this.rules,t),o=n.zone,i=n.rule,i?o[0]-i[6]:o[0])}function i(e,t){var n=r(e,this.zones,this.rules,t),o=n.zone,i=n.rule,a=o[2];return a.indexOf("/")>=0?a.split("/")[i&&i[6]?1:0]:a.indexOf("%s")>=0?a.replace("%s",i&&"-"!=i[7]?i[7]:""):a}function a(e,t,n){var r,o;return typeof t==bt&&(t=this.offset(e,t)),typeof n==bt&&(n=this.offset(e,n)),r=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),o=e.getTimezoneOffset(),new Date(e.getTime()+6e4*(o-r))}function s(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function u(e,t){return this.convert(e,t,e.getTimezoneOffset())}var l={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},c={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:o,convert:a,apply:s,remove:u,abbr:i}}(),it.date=function(){function e(e,t){return 0===t&&23===e.getHours()?(e.setHours(e.getHours()+2),!0):!1}function t(t,n,r){var o=t.getHours();r=r||1,n=(n-t.getDay()+7*r)%7,t.setDate(t.getDate()+n),e(t,o)}function n(e,n,r){return e=new Date(e),t(e,n,r),e}function r(e){return new Date(e.getFullYear(),e.getMonth(),1)}function o(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=r(e),o=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return o&&t.setHours(n.getHours()+o/60),t}function i(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function a(e){return 60*e.getHours()*p+e.getMinutes()*p+1e3*e.getSeconds()+e.getMilliseconds()}function s(e,t,n){var r,o=a(t),i=a(n);return e&&o!=i?(t>=n&&(n+=m),r=a(e),o>r&&(r+=m),o>i&&(i+=m),r>=o&&i>=r):!0}function u(e,t,n){var r,o=t.getTime(),i=n.getTime();return o>=i&&(i+=m),r=e.getTime(),r>=o&&i>=r}function l(t,n){var r=t.getHours();return t=new Date(t),c(t,n*m),e(t,r),t}function c(e,t,n){var r,o=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(r=e.getTimezoneOffset()-o,e.setTime(e.getTime()+r*p))}function d(){return i(new Date)}function f(e){return i(e).getTime()==d().getTime()}var p=6e4,m=864e5;return{adjustDST:e,dayOfWeek:n,setDayOfWeek:t,getDate:i,isInDateRange:u,isInTimeRange:s,isToday:f,nextDay:function(e){return l(e,1)},previousDay:function(e){return l(e,-1)},MS_PER_DAY:m,MS_PER_MINUTE:p,setTime:c,addDays:l,today:d,firstDayOfMonth:r,lastDayOfMonth:o,getMilliseconds:a}}(),it.stripWhitespace=function(e){for(var t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode)}}(jQuery,eval),"undefined"==typeof kendo_module&&(kendo_module=function(){})});
("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.core.min","./kendo.data.odata.min","./kendo.data.xml.min"],function(){!function(e,t){function r(e,t,r,n){return function(i){var a,s={};for(a in i)s[a]=i[a];s.field=n?r+"."+i.field:r,e.trigger(t,s),t==_t&&e._notifyChange&&e._notifyChange(s)}}function n(t,r){if(t===r)return!0;var i,a=e.type(t),s=e.type(r);if(a!==s)return!1;if("date"===a)return t.getTime()===r.getTime();if("object"!==a&&"array"!==a)return!1;for(i in t)if(!n(t[i],r[i]))return!1;return!0}function i(e,t){var r,n;for(n in e){if(r=e[n],et(r)&&r.field&&r.field===t)return r;if(r===t)return r}return null}function a(e){this.data=e||[]}function s(e,r){if(e){var n=typeof e===ft?{field:e,dir:r}:e,i=rt(n)?n:n!==t?[n]:[];return nt(i,function(e){return!!e.dir})}}function o(e){var t,r,n,i,a=e.filters;if(a)for(t=0,r=a.length;r>t;t++)n=a[t],i=n.operator,i&&typeof i===ft&&(n.operator=B[i.toLowerCase()]||i),o(n)}function u(e){return e&&!tt(e)?((rt(e)||!e.filters)&&(e={logic:"and",filters:rt(e)?e:[e]}),o(e),e):t}function l(e){return rt(e)?e:[e]}function f(e,r){var n=typeof e===ft?{field:e,dir:r}:e,i=rt(n)?n:n!==t?[n]:[];return D(i,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function d(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function c(e,t,r,n,i){var a,s,o,u,l;for(t=t||[],u=t.length,a=0;u>a;a++)s=t[a],o=s.aggregate,l=s.field,e[l]=e[l]||{},e[l][o]=G[o.toLowerCase()](e[l][o],r,ot.accessor(l),n,i)}function h(e){var t,r=e.length,n=Array(r);for(t=0;r>t;t++)n[t]=e[t].toJSON();return n}function g(e,t){t=t||{};var r=new a(e),n=t.aggregate,i=t.filter;return i&&(r=r.filter(i)),r.aggregate(n)}function p(e,t,r,n,i){var a,s,o,u,l;for(u=0,l=e.length;l>u;u++){a=e[u];for(s in t)o=i[s],o&&o!==s&&(a[o]=t[s](a),delete a[s])}}function _(e,t,r,n,i){var a,s,o,u,l;for(u=0,l=e.length;l>u;u++){a=e[u];for(s in t)a[s]=r._parse(s,t[s](a)),o=i[s],o&&o!==s&&delete a[o]}}function v(e,t,r,n,i){var a,s,o,u;for(s=0,u=e.length;u>s;s++)a=e[s],o=n[a.field],o&&o!=a.field&&(a.field=o),a.value=r._parse(a.field,a.value),a.hasSubgroups?v(a.items,t,r,n,i):_(a.items,t,r,n,i)}function m(e,t,r,n,i,a){return function(s){return s=e(s),s&&!tt(n)&&("[object Array]"===Dt.call(s)||s instanceof Gt||(s=[s]),r(s,n,new t,i,a)),s||[]}}function y(e,t,r,n){for(var i,a,s=0;t.length&&n&&(i=t[s],a=i.items,e&&e.field===i.field&&e.value===i.value?(e.hasSubgroups&&e.items.length?y(e.items[e.items.length-1],i.items,r,n):(a=a.slice(r,n),n-=a.length,e.items=e.items.concat(a)),t.splice(s--,1)):(a=a.slice(r,n),n-=a.length,i.items=a,i.items.length||t.splice(s--,1)),r=0,!(++s>=t.length)););}function S(e){var t,r,n=[];for(t=0,r=e.length;r>t;t++)n=e[t].hasSubgroups?n.concat(S(e[t].items)):n.concat(e[t].items.slice());return n}function w(e,t){var r,n,i,a;if(t)for(r=0,n=e.length;n>r;r++)i=e[r],a=i.items,i.hasSubgroups?w(a,t):!a.length||a[0]instanceof t||(a.type=t,a.wrapAll(a,a))}function b(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].hasSubgroups){if(b(e[r].items,t))return!0}else if(t(e[r].items,e[r]))return!0}function k(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].uid==t.uid)return t=e[r],e.splice(r,1),t}function x(e,t){var r,n,i,a;for(i=e.length-1,a=0;i>=a;i--)n=e[i],r={value:t.get(n.field),field:n.field,items:r?[r]:[t],hasSubgroups:!!r,aggregates:{}};return r}function q(e,t){return t?z(e,function(e){return e[t.idField]===t.id}):-1}function C(e,t){return t?z(e,function(e){return e.uid==t.uid}):-1}function z(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(t(e[r]))return r;return-1}function O(e,t){if(e&&!tt(e)){var r=e[t];return et(r)?r.from||r.field||t:e[t]}return t}function F(e,t){var r,n,i,a={};for(i in e)"filters"!==i&&(a[i]=e[i]);if(e.filters&&e.filters.length)for(a.filters=[],r=0,n=e.filters.length;n>r;r++)a.filters[r]=F(e.filters[r],t);else a.field=O(t.fields,a.field);return a}function R(e,t){var r,n,i,a,s,o=[];for(r=0,n=e.length;n>r;r++){i={},a=e[r];for(s in a)i[s]=a[s];i.field=O(t.fields,i.field),i.aggregates&&rt(i.aggregates)&&(i.aggregates=R(i.aggregates,t)),o.push(i)}return o}function P(t,r){var n,i,a,s,o,u=e(t)[0].children,l=[],f=r[0],d=r[1];for(n=0,i=u.length;i>n;n++)a={},o=u[n],o.disabled||(a[f.field]=o.text,s=o.attributes.value,s=s&&s.specified?o.value:o.text,a[d.field]=s,l.push(a));return l}function T(t,r){var n,i,a,s,o,u,l,f=e(t)[0].tBodies[0],d=f?f.rows:[],c=r.length,h=[];for(n=0,i=d.length;i>n;n++){for(o={},l=!0,s=d[n].cells,a=0;c>a;a++)u=s[a],"th"!==u.nodeName.toLowerCase()&&(l=!1,o[r[a].field]=u.innerHTML);l||h.push(o)}return h}function M(e){return function(){var t=this._data,r=U.fn[e].apply(this,Mt.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),r}}function A(t,r){var n,i,a,s,o,u,l,f,d=e(t).children(),c=[],h=r[0].field,g=r[1]&&r[1].field,p=r[2]&&r[2].field,_=r[3]&&r[3].field;for(n=0,i=d.length;i>n;n++)a={_loaded:!0},s=d.eq(n),u=s[0].firstChild,f=s.children(),t=f.filter("ul"),f=f.filter(":not(ul)"),o=s.attr("data-id"),o&&(a.id=o),u&&(a[h]=3==u.nodeType?u.nodeValue:f.text()),g&&(a[g]=f.find("a").attr("href")),_&&(a[_]=f.find("img").attr("src")),p&&(l=f.find(".k-sprite").prop("className"),a[p]=l&&e.trim(l.replace("k-sprite",""))),t.length&&(a.items=A(t.eq(0),r)),"true"==s.attr("data-hasChildren")&&(a.hasChildren=!0),c.push(a);return c}var D,N,j,I,B,G,L,E,H,J,U,V,W,Q,$,K,X=e.extend,Y=e.proxy,Z=e.isFunction,et=e.isPlainObject,tt=e.isEmptyObject,rt=e.isArray,nt=e.grep,it=e.ajax,at=e.each,st=e.noop,ot=window.kendo,ut=ot.Observable,lt=ot.Class,ft="string",dt="function",ct="create",ht="read",gt="update",pt="destroy",_t="change",vt="sync",mt="get",yt="error",St="requestStart",wt="progress",bt="requestEnd",kt=[ct,ht,gt,pt],xt=function(e){return e},qt=ot.getter,Ct=ot.stringify,zt=Math,Ot=[].push,Ft=[].join,Rt=[].pop,Pt=[].splice,Tt=[].shift,Mt=[].slice,At=[].unshift,Dt={}.toString,Nt=ot.support.stableSort,jt=/^\/Date\((.*?)\)\/$/,It=/(\r+|\n+)/g,Bt=/(?=['\\])/g,Gt=ut.extend({init:function(e,t){var r=this;r.type=t||Lt,ut.fn.init.call(r),r.length=e.length,r.wrapAll(e,r)},toJSON:function(){var e,t,r=this.length,n=Array(r);for(e=0;r>e;e++)t=this[e],t instanceof Lt&&(t=t.toJSON()),n[e]=t;return n},parent:st,wrapAll:function(e,t){var r,n,i=this,a=function(){return i};for(t=t||[],r=0,n=e.length;n>r;r++)t[r]=i.wrap(e[r],a);return t},wrap:function(e,t){var r,n=this;return null!==e&&"[object Object]"===Dt.call(e)&&(r=e instanceof n.type||e instanceof Jt,r||(e=e instanceof Lt?e.toJSON():e,e=new n.type(e)),e.parent=t,e.bind(_t,function(e){n.trigger(_t,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemchange":"itemchange"})})),e},push:function(){var e,t=this.length,r=this.wrapAll(arguments);return e=Ot.apply(this,r),this.trigger(_t,{action:"add",index:t,items:r}),e},slice:Mt,join:Ft,pop:function(){var e=this.length,t=Rt.apply(this);return e&&this.trigger(_t,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,r){var n,i,a,s=this.wrapAll(Mt.call(arguments,2));if(n=Pt.apply(this,[e,t].concat(s)),n.length)for(this.trigger(_t,{action:"remove",index:e,items:n}),i=0,a=n.length;a>i;i++)n[i].children&&n[i].unbind(_t);return r&&this.trigger(_t,{action:"add",index:e,items:s}),n},shift:function(){var e=this.length,t=Tt.apply(this);return e&&this.trigger(_t,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=At.apply(this,t),this.trigger(_t,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,r,n=this;for(t=0,r=n.length;r>t;t++)if(n[t]===e)return t;return-1},forEach:function(e){for(var t=0,r=this.length;r>t;t++)e(this[t],t,this)},map:function(e){for(var t=0,r=[],n=this.length;n>t;t++)r[t]=e(this[t],t,this);return r},filter:function(e){for(var t,r=0,n=[],i=this.length;i>r;r++)t=this[r],e(t,r,this)&&(n[n.length]=t);return n},find:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],e(t,r,this))return t},every:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],!e(t,r,this))return!1;return!0},some:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],e(t,r,this))return!0;return!1},remove:function(e){this.splice(this.indexOf(e),1)}}),Lt=ut.extend({init:function(e){var t,r,n=this,i=function(){return n};ut.fn.init.call(this);for(r in e)t=e[r],"_"!=r.charAt(0)&&(t=n.wrap(t,r,i)),n[r]=t;n.uid=ot.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&typeof this[e]!==dt&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,r={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof Lt||e instanceof Gt)&&(e=e.toJSON()),r[t]=e);return r},get:function(e){var t,r=this;return r.trigger(mt,{field:e}),t="this"===e?r:ot.getter(e,!0)(r)},_set:function(e,t){var r,n,i,a=this,s=e.indexOf(".")>=0;if(s)for(r=e.split("."),n="";r.length>1;){if(n+=r.shift(),i=ot.getter(n,!0)(a),i instanceof Lt)return i.set(r.join("."),t),s;n+="."}return ot.setter(e)(a,t),s},set:function(e,t){var r=this,n=ot.getter(e,!0)(r);n!==t&&(r.trigger("set",{field:e,value:t})||(!r._set(e,r.wrap(t,e,function(){return r}))||e.indexOf("(")>=0||e.indexOf("[")>=0)&&r.trigger(_t,{field:e}))},parent:st,wrap:function(e,t,n){var i,a,s=this,o=Dt.call(e);return null==e||"[object Object]"!==o&&"[object Array]"!==o||(i=e instanceof Gt,a=e instanceof U,"[object Object]"!==o||a||i?("[object Array]"===o||i||a)&&(i||a||(e=new Gt(e)),e.parent()!=n()&&e.bind(_t,r(s,_t,t,!1))):(e instanceof Lt||(e=new Lt(e)),e.parent()!=n()&&(e.bind(mt,r(s,mt,t,!0)),e.bind(_t,r(s,_t,t,!0)))),e.parent=n),e}}),Et={number:function(e){return ot.parseFloat(e)},date:function(e){return ot.parseDate(e)},"boolean":function(e){return typeof e===ft?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},Ht={string:"",number:0,date:new Date,"boolean":!1,"default":""},Jt=Lt.extend({init:function(r){var n=this;(!r||e.isEmptyObject(r))&&(r=e.extend({},n.defaults,r)),Lt.fn.init.call(n,r),n.dirty=!1,n.idField&&(n.id=n.get(n.idField),n.id===t&&(n.id=n._defaultId))},shouldSerialize:function(e){return Lt.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var r,n=this,a=e,s=n.fields||{};return e=s[e],e||(e=i(s,a)),e&&(r=e.parse,!r&&e.type&&(r=Et[e.type.toLowerCase()])),r?r(t):t},_notifyChange:function(e){var t=e.action;("add"==t||"remove"==t)&&(this.dirty=!0)},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,r){var i=this;i.editable(e)&&(t=i._parse(e,t),n(t,i.get(e))||(i.dirty=!0,Lt.fn.set.call(i,e,t,r)))},accept:function(e){var t,r=this,n=function(){return r};for(t in e)r._set(t,r.wrap(e[t],t,n));r.idField&&(r.id=r.get(r.idField)),r.dirty=!1},isNew:function(){return this.id===this._defaultId}});Jt.define=function(e,r){r===t&&(r=e,e=Jt);var n,i,a,s,o,u,l,f,d=X({defaults:{}},r),c={},h=d.id;if(h&&(d.idField=h),d.id&&delete d.id,h&&(d.defaults[h]=d._defaultId=""),"[object Array]"===Dt.call(d.fields)){for(u=0,l=d.fields.length;l>u;u++)a=d.fields[u],typeof a===ft?c[a]={}:a.field&&(c[a.field]=a);d.fields=c}for(i in d.fields)a=d.fields[i],s=a.type||"default",o=null,f=i,i=typeof a.field===ft?a.field:i,a.nullable||(o=d.defaults[f!==i?f:i]=a.defaultValue!==t?a.defaultValue:Ht[s.toLowerCase()]),r.id===i&&(d._defaultId=o),d.defaults[f!==i?f:i]=o,a.parse=a.parse||Et[s];return n=e.extend(d),n.define=function(e){return Jt.define(n,e)},d.fields&&(n.fields=d.fields,n.idField=d.idField),n},N={selector:function(e){return Z(e)?e:qt(e)},compare:function(e){var t=this.selector(e);return function(e,r){return e=t(e),r=t(r),null==e&&null==r?0:null==e?-1:null==r?1:e.localeCompare?e.localeCompare(r):e>r?1:r>e?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,r){return t(r,e,!0)}:t},combine:function(e){return function(t,r){var n,i,a=e[0](t,r);for(n=1,i=e.length;i>n;n++)a=a||e[n](t,r);return a}}},j=X({},N,{asc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==n?-1:null==i?1:n.localeCompare?n.localeCompare(i):n>i?1:-1}},desc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==n?1:null==i?-1:i.localeCompare?i.localeCompare(n):i>n?1:-1}},create:function(e){return this[e.dir](e.field)}}),D=function(e,t){var r,n=e.length,i=Array(n);for(r=0;n>r;r++)i[r]=t(e[r],r,e);return i},I=function(){function e(e){return e.replace(Bt,"\\").replace(It,"")}function t(t,r,n,i){var a;return null!=n&&(typeof n===ft&&(n=e(n),a=jt.exec(n),a?n=new Date(+a[1]):i?(n="'"+n.toLowerCase()+"'",r="("+r+" || '').toLowerCase()"):n="'"+n+"'"),n.getTime&&(r="("+r+"?"+r+".getTime():"+r+")",n=n.getTime())),r+" "+t+" "+n}return{eq:function(e,r,n){return t("==",e,r,n)},neq:function(e,r,n){return t("!=",e,r,n)},gt:function(e,r,n){return t(">",e,r,n)},gte:function(e,r,n){return t(">=",e,r,n)},lt:function(e,r,n){return t("<",e,r,n)},lte:function(e,r,n){return t("<=",e,r,n)},startswith:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".lastIndexOf('"+r+"', 0) == 0"},endswith:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"', "+t+".length - "+(r||"").length+") >= 0"},contains:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') >= 0"},doesnotcontain:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') == -1"}}}(),a.filterExpr=function(e){var r,n,i,s,o,u,l=[],f={and:" && ",or:" || "},d=[],c=[],h=e.filters;for(r=0,n=h.length;n>r;r++)i=h[r],o=i.field,u=i.operator,i.filters?(s=a.filterExpr(i),i=s.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(c.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(d.length+t)+"]"}),c.push.apply(c,s.operators),d.push.apply(d,s.fields)):(typeof o===dt?(s="__f["+d.length+"](d)",d.push(o)):s=ot.expr(o),typeof u===dt?(i="__o["+c.length+"]("+s+", "+i.value+")",c.push(u)):i=I[(u||"eq").toLowerCase()](s,i.value,i.ignoreCase!==t?i.ignoreCase:!0)),l.push(i);return{expression:"("+l.join(f[e.logic])+")",fields:d,operators:c}},B={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},a.normalizeFilter=u,a.prototype={toArray:function(){return this.data},range:function(e,t){return new a(this.data.slice(e,e+t))},skip:function(e){return new a(this.data.slice(e))},take:function(e){return new a(this.data.slice(0,e))},select:function(e){return new a(D(this.data,e))},order:function(e,t){var r={dir:t};return e&&(e.compare?r.compare=e.compare:r.field=e),new a(this.data.slice(0).sort(N.create(r)))},orderBy:function(e){return this.order(e,"asc")},orderByDescending:function(e){return this.order(e,"desc")},sort:function(e,t,r){var n,i,a=s(e,t),o=[];if(r=r||N,a.length){for(n=0,i=a.length;i>n;n++)o.push(r.create(a[n]));return this.orderBy({compare:r.combine(o)})}return this},filter:function(e){var t,r,n,i,s,o,l,f,d=this.data,c=[];if(e=u(e),!e||0===e.filters.length)return this;for(i=a.filterExpr(e),o=i.fields,l=i.operators,s=f=Function("d, __f, __o","return "+i.expression),(o.length||l.length)&&(f=function(e){return s(e,o,l)}),t=0,n=d.length;n>t;t++)r=d[t],f(r)&&c.push(r);return new a(c)},group:function(e,t){e=f(e||[]),t=t||this.data;var r,n=this,i=new a(n.data);return e.length>0&&(r=e[0],i=i.groupBy(r).select(function(n){var i=new a(t).filter([{field:n.field,operator:"eq",value:n.value}]);return{field:n.field,value:n.value,items:e.length>1?new a(n.items).group(e.slice(1),i.toArray()).toArray():n.items,hasSubgroups:e.length>1,aggregates:i.aggregate(r.aggregates)}})),i},groupBy:function(e){if(tt(e)||!this.data.length)return new a([]);var t,r,n,i,s=e.field,o=this._sortForGrouping(s,e.dir||"asc"),u=ot.accessor(s),l=u.get(o[0],s),f={field:s,value:l,items:[]},c=[f];for(n=0,i=o.length;i>n;n++)t=o[n],r=u.get(t,s),d(l,r)||(l=r,f={field:s,value:l,items:[]},c.push(f)),f.items.push(t);return new a(c)},_sortForGrouping:function(e,t){var r,n,i=this.data;if(!Nt){for(r=0,n=i.length;n>r;r++)i[r].__position=r;for(i=new a(i).sort(e,t,j).toArray(),r=0,n=i.length;n>r;r++)delete i[r].__position;return i}return this.sort(e,t).toArray()},aggregate:function(e){var t,r,n={};if(e&&e.length)for(t=0,r=this.data.length;r>t;t++)c(n,e,this.data[t],t,r);return n}},G={sum:function(e,t,r){return(e||0)+r.get(t)},count:function(e){return(e||0)+1},average:function(e,t,r,n,i){return e=(e||0)+r.get(t),n==i-1&&(e/=i),e},max:function(e,t,r){var n=r.get(t);return e=e||0,n>e&&(e=n),e},min:function(e,t,r){var n=r.get(t);return e=e||n,e>n&&(e=n),e}},a.process=function(e,r){r=r||{};var n,i=new a(e),o=r.group,u=f(o||[]).concat(s(r.sort||[])),l=r.filter,d=r.skip,c=r.take;return l&&(i=i.filter(l),n=i.toArray().length),u&&(i=i.sort(u),o&&(e=i.toArray())),d!==t&&c!==t&&(i=i.range(d,c)),o&&(i=i.group(o,e)),{total:n,data:i.toArray()}},L=lt.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),E=lt.extend({init:function(e){var t,r=this;e=r.options=X({},r.options,e),at(kt,function(t,r){typeof e[r]===ft&&(e[r]={url:e[r]})}),r.cache=e.cache?H.create(e.cache):{find:st,add:st},t=e.parameterMap,r.parameterMap=Z(t)?t:function(e){var r={};return at(e,function(e,n){e in t&&(e=t[e],et(e)&&(n=e.value(n),e=e.key)),r[e]=n}),r}},options:{parameterMap:xt},create:function(e){return it(this.setup(e,ct))},read:function(r){var n,i,a,s=this,o=s.cache;r=s.setup(r,ht),n=r.success||st,i=r.error||st,a=o.find(r.data),a!==t?n(a):(r.success=function(e){o.add(r.data,e),n(e)},e.ajax(r))},update:function(e){return it(this.setup(e,gt))},destroy:function(e){return it(this.setup(e,pt))},setup:function(e,t){e=e||{};var r,n=this,i=n.options[t],a=Z(i.data)?i.data(e.data):i.data;return e=X(!0,{},i,e),r=X(!0,{},a,e.data),e.data=n.parameterMap(r,t),Z(e.url)&&(e.url=e.url(r)),e}}),H=lt.extend({init:function(){this._store={}},add:function(e,r){e!==t&&(this._store[Ct(e)]=r)},find:function(e){return this._store[Ct(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[Ct(e)]}}),H.create=function(e){var t={inmemory:function(){return new H}};return et(e)&&Z(e.find)?e:e===!0?new H:t[e]()},J=lt.extend({init:function(e){var t,r,n,i,a,s,o,u,l,f,d,c,h,g=this;e=e||{};for(t in e)r=e[t],g[t]=typeof r===ft?qt(r):r;i=e.modelBase||Jt,et(g.model)&&(g.model=n=i.define(g.model)),g.model&&(s=Y(g.data,g),o=Y(g.groups,g),u=Y(g.serialize,g),l={},f={},d={},c={},h=!1,n=g.model,n.fields&&(at(n.fields,function(e,t){var r;a=e,et(t)&&t.field?a=t.field:typeof t===ft&&(a=t),et(t)&&t.from&&(r=t.from),h=h||r&&r!==e||a!==e,f[e]=qt(r||a),d[e]=qt(e),l[r||a]=e,c[e]=r||a}),!e.serialize&&h&&(g.serialize=m(u,n,p,d,l,c))),g.data=m(s,n,_,f,l,c),g.groups=m(o,n,v,f,l,c))},errors:function(e){return e?e.errors:null},parse:xt,data:xt,total:function(e){return e.length},groups:xt,aggregates:function(){return{}},serialize:function(e){return e}}),U=ut.extend({init:function(e){var r,n,i=this;e&&(n=e.data),e=i.options=X({},i.options,e),i._map={},i._prefetch={},i._data=[],i._pristineData=[],i._ranges=[],i._view=[],i._pristine=[],i._destroyed=[],i._pageSize=e.pageSize,i._page=e.page||(e.pageSize?1:t),i._sort=s(e.sort),i._filter=u(e.filter),i._group=f(e.group),i._aggregate=e.aggregate,i._total=e.total,ut.fn.init.call(i),i.transport=V.create(e,n),i.reader=new ot.data.readers[e.schema.type||"json"](e.schema),r=i.reader.model||{},i._data=i._observe(i._data),i.bind([yt,_t,St,vt,bt,wt],e)},options:{data:[],schema:{modelBase:Jt},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_flatData:function(e){return this._isServerGrouped()?S(e):e},parent:st,get:function(e){var t,r,n=this._flatData(this._data);for(t=0,r=n.length;r>t;t++)if(n[t].id==e)return n[t]},getByUid:function(e){var t,r,n=this._flatData(this._data);if(n)for(t=0,r=n.length;r>t;t++)if(n[t].uid==e)return n[t]},indexOf:function(e){return C(this._data,e)},at:function(e){return this._data[e]},data:function(e){var r=this;return e===t?r._data:(r._data=this._observe(e),r._ranges=[],r._addRange(r._data),r._total=r._data.length,r._process(r._data),t)},view:function(){return this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):new Lt(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof Jt||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,x(this.group(),t)):this._data.splice(e,0,t),t},remove:function(e){var r,n=this,i=n._isServerGrouped();return this._eachItem(n._data,function(a){return r=k(a,e),r&&i?(r.isNew&&r.isNew()||n._destroyed.push(r),!0):t}),e},sync:function(){var t,r,n,i=this,a=[],s=[],o=i._destroyed,u=i._flatData(i._data);if(i.reader.model){for(t=0,r=u.length;r>t;t++)u[t].isNew()?a.push(u[t]):u[t].dirty&&s.push(u[t]);n=i._send("create",a),n.push.apply(n,i._send("update",s)),n.push.apply(n,i._send("destroy",o)),e.when.apply(null,n).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++)i._accept(arguments[e]);i._change({action:"sync"}),i.trigger(vt)})}},cancelChanges:function(e){var t=this;e instanceof ot.data.Model?t._cancelModel(e):(t._destroyed=[],t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t.reader.total(t._pristine)),t._change())},hasChanges:function(){var e,t,r=this._data;if(this._destroyed.length)return!0;for(e=0,t=r.length;t>e;e++)if(r[e].isNew()||r[e].dirty)return!0;return!1},_accept:function(t){var r,n=this,i=t.models,a=t.response,s=0,o=n._isServerGrouped(),u=n._pristineData,l=t.type;if(n.trigger(bt,{response:a,type:l}),a&&!tt(a)){if(a=n.reader.parse(a),n._handleCustomErrors(a))return;a=n.reader.data(a),e.isArray(a)||(a=[a])}else a=e.map(i,function(e){return e.toJSON()});for("destroy"===l&&(n._destroyed=[]),s=0,r=i.length;r>s;s++)"destroy"!==l?(i[s].accept(a[s]),"create"===l?u.push(o?x(n.group(),i[s]):a[s]):"update"===l&&n._updatePristineForModel(i[s],a[s])):n._removePristineForModel(i[s])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,r){ot.deepExtend(r[e],t)})},_executeOnPristineForModel:function(e,r){this._eachPristineItem(function(n){var i=q(n,e);return i>-1?(r(i,n),!0):t})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t(e)},_eachPristineItem:function(e){this._eachItem(this._pristineData,e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?b(e,t):t(e))},_pristineForModel:function(e){var r,n,i=function(i){return n=q(i,e),n>-1?(r=i[n],!0):t};return this._eachPristineItem(i),r},_cancelModel:function(e){var t,r=this._pristineForModel(e);this._eachItem(this._data,function(n){t=C(n,e),-1!=t&&(!e.isNew()&&r?n[t].accept(r):n.splice(t,1))})},_promise:function(t,r,n){var i=this,a=i.transport;return e.Deferred(function(e){i.trigger(St),a[n].call(a,X({success:function(t){e.resolve({response:t,models:r,type:n})},error:function(t,r,n){e.reject(t),i.error(t,r,n)}},t))}).promise()},_send:function(e,t){var r,n,i=this,a=[],s=i.reader.serialize(h(t));if(i.options.batch)t.length&&a.push(i._promise({data:{models:s}},t,e));else for(r=0,n=t.length;n>r;r++)a.push(i._promise({data:s[r]},[t[r]],e));return a},read:function(e){var t=this,r=t._params(e);t._queueRequest(r,function(){t.trigger(St)?t._dequeueRequest():(t.trigger(wt),t._ranges=[],t.transport.read({data:r,success:Y(t.success,t),error:Y(t.error,t)}))})},success:function(r){var n=this,i=n.options;return n.trigger(bt,{response:r,type:"read"}),r=n.reader.parse(r),n._handleCustomErrors(r)?(n._dequeueRequest(),t):(n._pristine=et(r)?e.extend(!0,{},r):r.slice?r.slice(0):r,n._total=n.reader.total(r),n._aggregate&&i.serverAggregates&&(n._aggregateResult=n.reader.aggregates(r)),r=n._readData(r),n._pristineData=r.slice(0),n._data=n._observe(r),n._addRange(n._data),n._process(n._data),n._dequeueRequest(),t)},_addRange:function(e){var t=this,r=t._skip||0,n=r+t._flatData(e).length;t._ranges.push({start:r,end:n,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,r){this._dequeueRequest(),this.trigger(bt,{}),this.trigger(yt,{xhr:e,status:t,errorThrown:r})},_params:function(e){var t=this,r=X({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete r.take,delete r.skip,delete r.page,delete r.pageSize),t.options.serverGrouping?t.reader.model&&r.group&&(r.group=R(r.group,t.reader.model)):delete r.group,t.options.serverFiltering?t.reader.model&&r.filter&&(r.filter=F(r.filter,t.reader.model)):delete r.filter,t.options.serverSorting?t.reader.model&&r.sort&&(r.sort=R(r.sort,t.reader.model)):delete r.sort,t.options.serverAggregates?t.reader.model&&r.aggregate&&(r.aggregate=R(r.aggregate,t.reader.model)):delete r.aggregate,r},_queueRequest:function(e,r){var n=this;n._requestInProgress?n._pending={callback:Y(r,n),options:e}:(n._requestInProgress=!0,n._pending=t,r())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(yt,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(e){var t=this,r=t.reader.model,n=!1;return r&&e.length&&(n=!(e[0]instanceof r)),e instanceof Gt?n&&(e.type=t.reader.model,e.wrapAll(e,e)):(e=new Gt(e,t.reader.model),e.parent=function(){return t.parent()}),t._isServerGrouped()&&w(e,r),t._changeHandler&&t._data&&t._data instanceof Gt?t._data.unbind(_t,t._changeHandler):t._changeHandler=Y(t._change,t),e.bind(_t,t._changeHandler)},_change:function(e){var t,r,n,i=this,a=e?e.action:"";if("remove"===a)for(t=0,r=e.items.length;r>t;t++)e.items[t].isNew&&e.items[t].isNew()||i._destroyed.push(e.items[t]);!i.options.autoSync||"add"!==a&&"remove"!==a&&"itemchange"!==a?(n=i._total||i.reader.total(i._pristine),"add"===a?n+=e.items.length:"remove"===a?n-=e.items.length:"itemchange"===a||"sync"===a||i.options.serverPaging||(n=i.reader.total(i._pristine)),i._total=n,i._process(i._data,e)):i.sync()},_process:function(e,r){var n,i=this,s={};i.options.serverPaging!==!0&&(s.skip=i._skip,s.take=i._take||i._pageSize,s.skip===t&&i._page!==t&&i._pageSize!==t&&(s.skip=(i._page-1)*i._pageSize)),i.options.serverSorting!==!0&&(s.sort=i._sort),i.options.serverFiltering!==!0&&(s.filter=i._filter),i.options.serverGrouping!==!0&&(s.group=i._group),i.options.serverAggregates!==!0&&(s.aggregate=i._aggregate,i._aggregateResult=g(e,s)),n=a.process(e,s),i._view=n.data,n.total===t||i.options.serverFiltering||(i._total=n.total),r=r||{},r.items=r.items||i._view,i.trigger(_t,r)},_mergeState:function(e){var r=this;return e!==t&&(r._pageSize=e.pageSize,r._page=e.page,r._sort=e.sort,r._filter=e.filter,r._group=e.group,r._aggregate=e.aggregate,r._skip=e.skip,r._take=e.take,r._skip===t&&(r._skip=r.skip(),e.skip=r.skip()),r._take===t&&r._pageSize!==t&&(r._take=r._pageSize,e.take=r._take),e.sort&&(r._sort=e.sort=s(e.sort)),e.filter&&(r._filter=e.filter=u(e.filter)),e.group&&(r._group=e.group=f(e.group)),e.aggregate&&(r._aggregate=e.aggregate=l(e.aggregate))),e},query:function(e){var r,n=this,i=n.options.serverSorting||n.options.serverPaging||n.options.serverFiltering||n.options.serverGrouping||n.options.serverAggregates;i||(n._data===t||0===n._data.length)&&!n._destroyed.length?n.read(n._mergeState(e)):n.trigger(St)||(n.trigger(wt),r=a.process(n._data,n._mergeState(e)),n.options.serverFiltering||(n._total=r.total!==t?r.total:n._data.length),n._view=r.data,n._aggregateResult=g(n._data,e),n.trigger(bt,{}),n.trigger(_t,{items:r.data}))},fetch:function(t){var r=this;return e.Deferred(function(e){var n=function(n){r.unbind(yt,i),e.resolve(),t&&t.call(r,n)},i=function(t){e.reject(t)};r.one(_t,n),r.one(yt,i),r._query()}).promise()},_query:function(e){var t=this;t.query(X({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var r=this,n=r.page(),i=r.total();return e=e||{},!n||i&&n+1>r.totalPages()?t:(r._skip=n*r.take(),n+=1,e.page=n,r._query(e),n)},prev:function(e){var r=this,n=r.page();return e=e||{},n&&1!==n?(r._skip=r._skip-r.take(),n-=1,e.page=n,r._query(e),n):t},page:function(e){var r,n=this;return e!==t?(e=zt.max(zt.min(zt.max(e,1),n.totalPages()),1),n._query({page:e}),t):(r=n.skip(),r!==t?zt.round((r||0)/(n.take()||1))+1:t)},pageSize:function(e){var r=this;return e!==t?(r._query({pageSize:e,page:1}),t):r.take()},sort:function(e){var r=this;return e!==t?(r._query({sort:e}),t):r._sort},filter:function(e){var r=this;return e===t?r._filter:(r._query({filter:e,page:1}),t)},group:function(e){var r=this;return e!==t?(r._query({group:e}),t):r._group},total:function(){return this._total||0},aggregate:function(e){var r=this;return e!==t?(r._query({aggregate:e}),t):r._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var e=this,t=e.pageSize()||e.total();return zt.ceil((e.total()||0)/t)},inRange:function(e,t){var r=this,n=zt.min(e+t,r.total());return!r.options.serverPaging&&r.data.length>0?!0:r._findRange(e,n).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},range:function(e,r){var n,i,a,s,o,u,l;if(e=zt.min(e||0,this.total()),i=this,a=zt.max(zt.floor(e/r),0)*r,s=zt.min(a+r,i.total()),n=i._findRange(e,zt.min(e+r,i.total())),n.length){i._skip=e>i.skip()?zt.min(s,(i.totalPages()-1)*i.take()):a,i._take=r,o=i.options.serverPaging,u=i.options.serverSorting,l=i.options.serverFiltering;try{i.options.serverPaging=!0,i.options.serverSorting=!0,i.options.serverFiltering=!0,o&&(i._data=n=i._observe(n)),i._process(n)}finally{i.options.serverPaging=o,i.options.serverSorting=u,i.options.serverFiltering=l}}else r!==t&&(i._rangeExists(a,s)?e>a&&i.prefetch(s,r,function(){i.range(e,r)}):i.prefetch(a,r,function(){e>a&&s<i.total()&&!i._rangeExists(s,zt.min(s+r,i.total()))?i.prefetch(s,r,function(){i.range(e,r)}):i.range(e,r)}))},_findRange:function(e,r){var n,i,o,u,l,d,c,h,g,p,_,v,m=this,y=m._ranges,S=[],w=m.options,b=w.serverSorting||w.serverPaging||w.serverFiltering||w.serverGrouping||w.serverAggregates;for(i=0,_=y.length;_>i;i++)if(n=y[i],e>=n.start&&e<=n.end){for(p=0,o=i;_>o;o++)if(n=y[o],g=m._flatData(n.data),g.length&&e+p>=n.start&&(d=n.data,c=n.end,b||(v=f(m.group()||[]).concat(s(m.sort()||[])),h=a.process(n.data,{sort:v,filter:m.filter()}),g=d=h.data,h.total!==t&&(c=h.total)),u=0,e+p>n.start&&(u=e+p-n.start),l=g.length,c>r&&(l-=c-r),p+=l-u,S=m._mergeGroups(S,d,u,l),r<=n.end&&p==r-e))return S;break}return[]},_mergeGroups:function(e,t,r,n){if(this._isServerGrouped()){var i,a=t.toJSON();return e.length&&(i=e[e.length-1]),y(i,a,r,n),e.concat(a)}return e.concat(t.slice(r,n))},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,r){var n=this;
return function(i){var a,s,o=!1,u={start:e,end:t,data:[]};for(n._dequeueRequest(),a=0,s=n._ranges.length;s>a;a++)if(n._ranges[a].start===e){o=!0,u=n._ranges[a];break}o||n._ranges.push(u),n.trigger(bt,{response:i,type:"read"}),i=n.reader.parse(i),u.data=n._observe(n._readData(i)),u.end=u.start+n._flatData(u.data).length,n._ranges.sort(function(e,t){return e.start-t.start}),n._total=n.reader.total(i),r&&r()}},prefetch:function(e,t,r){var n=this,i=zt.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,i)?r&&r():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(a,function(){n.trigger(St)?n._dequeueRequest():n.transport.read({data:a,success:n._prefetchSuccessHandler(e,i,r)})})},100))},_rangeExists:function(e,t){var r,n,i=this,a=i._ranges;for(r=0,n=a.length;n>r;r++)if(a[r].start<=e&&a[r].end>=t)return!0;return!1}}),V={},V.create=function(e,t){var r,n=e.transport;return n?(n.read=typeof n.read===ft?{url:n.read}:n.read,e.type&&(ot.data.transports[e.type]&&!et(ot.data.transports[e.type])?r=new ot.data.transports[e.type](X(n,{data:t})):n=X(!0,{},ot.data.transports[e.type],n),e.schema=X(!0,{},ot.data.schemas[e.type],e.schema)),r||(r=Z(n.read)?n:new E(n))):r=new L({data:e.data}),r},U.create=function(e){e=e&&e.push?{data:e}:e;var t,r,n,i=e||{},a=i.data,s=i.fields,o=i.table,u=i.select,l={};if(a||!s||i.transport||(o?a=T(o,s):u&&(a=P(u,s))),ot.data.Model&&s&&(!i.schema||!i.schema.model)){for(t=0,r=s.length;r>t;t++)n=s[t],n.type&&(l[n.field]=n);tt(l)||(i.schema=X(!0,i.schema,{model:{fields:l}}))}return i.data=a,i instanceof U?i:new U(i)},W=Jt.define({init:function(e){var t,r=this,n=r.hasChildren||e&&e.hasChildren,i="items",a={};ot.data.Model.fn.init.call(r,e),typeof r.children===ft&&(i=r.children),a={schema:{data:i,model:{hasChildren:n,id:r.idField}}},typeof r.children!==ft&&X(a,r.children),t=a.transport,t&&(t.parameterMap=function(e){return r.parentParameterMap&&(e=r.parentParameterMap.call(this,e)),e[r.idField||"id"]=r.id,e}),a.data=e,n||(n=a.schema.data),typeof n===ft&&(n=ot.getter(n)),Z(n)&&(r.hasChildren=!!n.call(r,r)),r._childrenOptions=a,r.hasChildren&&r._initChildren(),r._loaded=!(!e||!e[i]&&!e._loaded)},_initChildren:function(){var e=this;e.children instanceof Q||(e.children=new Q(e._childrenOptions),e.children.parent=function(){return e},e.children.bind(_t,function(t){t.node=t.node||e,e.trigger(_t,t)}),e.children.bind(yt,function(t){var r=e.parent();r&&(t.node=t.node||e,r.trigger(yt,t))}),e._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},load:function(){var e=this,r={};e.hasChildren&&(e._initChildren(),r[e.idField||"id"]=e.id,e._loaded||(e.children._data=t),e.children.one(_t,function(){e._loaded=!0,e._updateChildrenField()})._query(r))},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return Jt.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),Q=U.extend({init:function(e){var t=W.define({children:e});U.fn.init.call(this,X(!0,{},{schema:{modelBase:t,model:t}},e)),this.transport&&(t.fn.parentParameterMap=this.transport.parameterMap),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(yt,function(t){e.trigger(yt,t)})},remove:function(e){var t,r=e.parentNode(),n=this;return r&&r._initChildren&&(n=r.children),t=U.fn.remove.call(n,e),r&&!n.data().length&&(r.hasChildren=!1),t},success:M("success"),data:M("data"),insert:function(e,t){var r=this.parent();return r&&r._initChildren&&(r.hasChildren=!0,r._initChildren()),U.fn.insert.call(this,e,t)},_find:function(e,t){var r,n,i,a,s;if(i=U.fn[e].call(this,t))return i;if(a=this._flatData(this.data()))for(r=0,n=a.length;n>r;r++)if(s=a[r].children,s instanceof Q&&(i=s[e](t)))return i},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}}),Q.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},r=t.data,n=t.fields,i=t.list;return r&&r._dataSource?r._dataSource:(r||!n||t.transport||i&&(r=A(i,n)),t.data=r,t instanceof Q?t:new Q(t))},$=ot.Observable.extend({init:function(e,t,r){ot.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!r;var n=this;e.bind("change",function(){n._change()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var r,n,i=this.pageSize;return e>=this.total()?(this.trigger("endreached",{index:e}),t):((e<this.dataOffset||e>this.skip+i)&&(r=Math.floor(e/i)*i,this.range(r)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),n=this.dataSource.at(e-this.dataOffset),n===t&&this.trigger("endreached",{index:e}),n)},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},_prefetch:function(){var e=this,t=this.pageSize,r=this.skip+t,n=this.dataSource;n.inRange(r,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:r,take:t}),n.prefetch(r,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:r,take:t})}))},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,r=e.skip-e.viewSize,n=zt.max(zt.floor(r/t),0)*t+t;this.offset=r,this.dataSource.prefetch(n,t,function(){e._goToRange(r,!0)})},range:function(e){if(this.offset!==e){var t=this,r=this.pageSize,n=zt.max(zt.floor(e/r),0)*r+r,i=this.dataSource;this.offset=e,this._recalculate(),i.inRange(e,r)?this._goToRange(e):this.prefetch&&i.prefetch(n,r,function(){t._goToRange(e,!0)})}},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize))},_change:function(){var e=this.dataSource,t=e.firstItemUid();this.length=e.lastRange().end,this._firstItemUid!==t&&(this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip(),this.pageSize=e.pageSize()},_recalculate:function(){var e=this.pageSize,t=this.offset,r=this.viewSize,n=Math.ceil(t/e)*e;this.skip=n,this.midPageThreshold=n+e-1,this.nextPageThreshold=n+r-1,this.prefetchThreshold=n+Math.floor(2*(e/3)),this.pullBackThreshold=this.offset-1,this.nextMidRange=n+e-r,this.nextFullRange=n,this.previousMidRange=t-r,this.previousFullRange=n-e}}),K=ot.Observable.extend({init:function(e,t){var r=this;ot.Observable.fn.init.call(r),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new $(e,3*t),this.buffer.bind({endreached:function(e){r.trigger("endreached",{index:e.index})},prefetching:function(e){r.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){r.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){r._total=0,r.trigger("reset")},resize:function(){r._total=this.length/r.batchSize,r.trigger("resize",{total:r.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var r,n,i=this.buffer,a=e*this.batchSize,s=this.batchSize,o=[];for(i.offset>a&&i.at(i.offset-1),n=0;s>n;n++){if(r=i.at(a+n),r===t)return;o.push(r)}return o},total:function(){return this._total}}),X(!0,ot.data,{readers:{json:J},Query:a,DataSource:U,HierarchicalDataSource:Q,Node:W,ObservableObject:Lt,ObservableArray:Gt,LocalTransport:L,RemoteTransport:E,Cache:H,DataReader:J,Model:Jt,Buffer:$,BatchBuffer:K})}(window.kendo.jQuery)});
("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.data.min"],function(){!function(e,n){var r=window.kendo,t=e.proxy,a="dir",i="asc",o="single",d="field",l="desc",s=".kendoSortable",c=".k-link",f="aria-sort",u=r.ui.Widget,p=u.extend({init:function(e,n){var r,a=this;u.fn.init.call(a,e,n),a._refreshHandler=t(a.refresh,a),a.dataSource=a.options.dataSource.bind("change",a._refreshHandler),r=a.element.find(c),r[0]||(r=a.element.wrapInner('<a class="k-link" href="#"/>').find(c)),a.link=r,a.element.on("click"+s,t(a._click,a))},options:{name:"Sortable",mode:o,allowUnsort:!0,compare:null},destroy:function(){var e=this;u.fn.destroy.call(e),e.element.off(s),e.dataSource.unbind("change",e._refreshHandler)},refresh:function(){var n,t,o,s,c=this,u=c.dataSource.sort()||[],p=c.element,k=p.attr(r.attr(d));for(p.removeAttr(r.attr(a)),p.removeAttr(f),n=0,t=u.length;t>n;n++)o=u[n],k==o.field&&p.attr(r.attr(a),o.dir);s=p.attr(r.attr(a)),p.find(".k-i-arrow-n,.k-i-arrow-s").remove(),s===i?(e('<span class="k-icon k-i-arrow-n" />').appendTo(c.link),p.attr(f,"ascending")):s===l&&(e('<span class="k-icon k-i-arrow-s" />').appendTo(c.link),p.attr(f,"descending"))},_click:function(e){var t,s,c=this,f=c.element,u=f.attr(r.attr(d)),p=f.attr(r.attr(a)),k=c.options,m=c.options.compare,h=c.dataSource.sort()||[];if(p=p===i?l:p===l&&k.allowUnsort?n:i,k.mode===o)h=[{field:u,dir:p,compare:m}];else if("multiple"===k.mode){for(t=0,s=h.length;s>t;t++)if(h[t].field===u){h.splice(t,1);break}h.push({field:u,dir:p,compare:m})}e.preventDefault(),c.dataSource.sort(h)}});r.ui.plugin(p)}(window.kendo.jQuery)});
("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.data.min","./kendo.editable.min","./kendo.window.min","./kendo.filtermenu.min","./kendo.columnmenu.min","./kendo.groupable.min","./kendo.pager.min","./kendo.selectable.min","./kendo.sortable.min","./kendo.reorderable.min","./kendo.resizable.min"],function(){!function(e,t){function r(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function a(e){var t,r=" ";if(e){if(typeof e===gt)return e;for(t in e)r+=t+'="'+e[t]+'"'}return r}function l(t){var r=0;return e("> .k-grouping-header, > .k-grid-toolbar",t).each(function(){r+=this.offsetHeight}),r}function o(t,r){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",r)}function n(e){var t,r,a={},l={};if(!z(e))for(I(e)||(e=[e]),t=0,r=e.length;r>t;t++)a[e[t].aggregate]=0,l[e[t].field]=a;return l}function i(e,t,r){var a=e.eq(t),l=e.eq(r);a[t>r?"insertBefore":"insertAfter"](l)}function s(e,t,r){var a,l,o,n;for(r=I(r)?r:[r],a=0,l=r.length;l>a;a++)o=r[a],H(o)&&o.click&&(n=o.name||o.text,t.on(ut+K,"a.k-grid-"+(n||"").replace(/\s/g,""),{commandName:n},W(o.click,e)))}function d(e){return D(e,function(e){return!e.hidden})}function c(e){e=e||{};var t=e.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",R({},e,{style:t})}function u(e){e=e||{};var t=e.style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function p(t,r,a,l){var o,n=t.find(">colgroup"),i=A(r,function(e){return o=e.width,o&&0!==parseInt(o,10)?v.format('<col style="width:{0}"/>',typeof o===gt?o:o+"px"):"<col />"});(a||n.find(".k-hierarchy-col").length)&&i.splice(0,0,'<col class="k-hierarchy-col" />'),n.length&&n.remove(),n=e(Array(l+1).join('<col class="k-group-col">')+i.join("")),n.is("colgroup")||(n=e("<colgroup/>").append(n)),t.prepend(n),Ct.msie&&8==Ct.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function f(e){var t,r,a,l={};for(r=0,a=e.length;a>r;r++)t=e[r],l[t.value]=t.text;return l}function h(e,t,r){var a=r&&r.length&&H(r[0])&&"value"in r[0],l=a?f(r)[e]:e;return l=null!=l?l:"",t?v.format(t,l):l}function g(e,t,r){for(var a,l=0,o=e[l];o;){if(a=r?!0:"none"!==o.style.display,a&&!_t.test(o.className)&&--t<0){o.style.display=r?"":"none";break}o=e[++l]}}function m(e,t){var r,a,l;if(typeof e===gt&&e===t)return e;if(H(e)&&e.name===t)return e;if(I(e))for(r=0,a=e.length;a>r;r++)if(l=e[r],typeof l===gt&&l===t||l.name===t)return l;return null}function b(t,r){var a,l,o,n=Ct.msie;if(r===!0){if(t=e(t),o=n&&t.parent().is(".k-grid-content,.k-grid-header-wrap"),o&&(a=t.parent().scrollTop(),l=t.parent().scrollLeft()),n)try{t[0].setActive()}catch(i){t[0].focus()}else t[0].focus();o&&(t.parent().scrollTop(a),t.parent().scrollLeft(l))}else e(t).one("focusin",function(e){e.preventDefault()}).focus()}function k(t){var r=e(t.currentTarget),a=r.is("th"),l=r.closest("table")[0];v.support.touch||(l===this.table[0]||l===this.thead.parent()[0])&&(this.current(r),(a||!e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input,.k-multiselect-wrap"))&&setTimeout(function(){b(l,!0)}),a&&t.preventDefault())}var v=window.kendo,_=v.ui,w=v.data.DataSource,y=_.Groupable,C=v.support.tbodyInnerHtml,x=v._activeElement,T=_.Widget,S=v.keys,H=e.isPlainObject,R=e.extend,A=e.map,D=e.grep,I=e.isArray,E=e.inArray,W=e.proxy,M=e.isFunction,z=e.isEmptyObject,N=Math,L="progress",B="error",F=":not(.k-group-cell):not(.k-hierarchy-cell):visible",q="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",P="tr:not(.k-footer-template):visible",O=":not(.k-group-cell):not(.k-hierarchy-cell):visible",G=P+":first>"+O+":first",j="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",U=j+":visible["+v.attr("field")+"]",$=j+"["+v.attr("field")+"]",K=".kendoGrid",J="edit",V="save",X="remove",Q="detailInit",Y="filterMenuInit",Z="columnMenuInit",et="change",tt="columnHide",rt="columnShow",at="saveChanges",lt="dataBound",ot="detailExpand",nt="detailCollapse",it="k-state-focused",st="k-state-selected",dt="columnResize",ct="columnReorder",ut="click",pt="height",ft="tabIndex",ht="function",gt="string",mt="Are you sure you want to delete this record?",bt=/(\}|\#)/gi,kt=/#/gi,vt="[\\x20\\t\\r\\n\\f]",_t=RegExp("(^|"+vt+")"+"(k-group-cell|k-hierarchy-cell)"+"("+vt+"|$)"),wt='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',yt=!1,Ct=v.support.browser,xt=Ct.msie&&7==Ct.version,Tt=T.extend({init:function(e,t){var r=this;T.fn.init.call(r,e,t),r._refreshHandler=W(r.refresh,r),r.setDataSource(t.dataSource),r.wrap()},setDataSource:function(e){var t=this;t.dataSource&&t.dataSource.unbind(et,t._refreshHandler),t.dataSource=e,t.dataSource.bind(et,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:e.noop},destroy:function(){var e=this;T.fn.destroy.call(e),e.dataSource.unbind(et,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(K),e.drag&&e.drag.destroy()},wrap:function(){var t,r=this,a=v.support.scrollbar()+1,l=r.element;l.css({width:"auto",overflow:"hidden"}).css(yt?"padding-left":"padding-right",a),r.content=l.children().first(),t=r.wrapper=r.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+K+" mousewheel"+K,W(r._wheelScroll,r)),v.support.kineticScrollNeeded&&(r.drag=new v.UserEvents(r.wrapper,{global:!0,move:function(e){r.verticalScrollbar.scrollTop(r.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),r.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:a}).appendTo(l).bind("scroll"+K,W(r._scroll,r))},_wheelScroll:function(e){var r,a=this,l=a.verticalScrollbar.scrollTop(),o=e.originalEvent,n=o.wheelDeltaY;o.wheelDelta?(n===t||n)&&(r=o.wheelDelta):o.detail&&o.axis===o.VERTICAL_AXIS&&(r=10*-o.detail),r&&(e.preventDefault(),a.verticalScrollbar.scrollTop(l+-r))},_scroll:function(e){var t=this,r=e.currentTarget.scrollTop,a=t.dataSource,l=t.itemHeight,o=a.skip()||0,n=t._rangeStart||o,i=t.element.innerHeight(),s=!!(t._scrollbarTop&&t._scrollbarTop>r),d=N.max(N.floor(r/l),0),c=N.max(d+N.floor(i/l),0);t._scrollTop=r-n*l,t._scrollbarTop=r,t._fetch(d,c,s)||(t.wrapper[0].scrollTop=t._scrollTop)},_fetch:function(e,t,r){var a=this,l=a.dataSource,o=a.itemHeight,n=l.take(),i=a._rangeStart||l.skip()||0,s=N.floor(e/n)*n,d=!1,c=.33;return i>e?(d=!0,i=N.max(0,t-n),a._scrollTop=(e-i)*o,a._page(i,n)):t>=i+n&&!r?(d=!0,i=e,a._scrollTop=o,a._page(i,n)):a._fetching||(s+n-n*c>e&&e>n&&l.prefetch(s-n,n),t>s+n*c&&l.prefetch(s+n,n)),d},_page:function(e,t){var r=this,a=r.dataSource;clearTimeout(r._timeout),r._fetching=!0,r._rangeStart=e,a.inRange(e,t)?a.range(e,t):(v.ui.progress(r.wrapper.parent(),!0),r._timeout=setTimeout(function(){a.range(e,t)},100))},refresh:function(){var e,t,r,a,l=this,o="",n=25e4,i=l.dataSource,s=l._rangeStart,d=v.support.kineticScrollNeeded?0:v.support.scrollbar(),c=l.wrapper[0];for(v.ui.progress(l.wrapper.parent(),!1),clearTimeout(l._timeout),r=l.itemHeight=l.options.itemHeight()||0,a=c.scrollWidth>c.offsetWidth?d:0,e=i.total()*r+a,t=0;t<N.floor(e/n);t++)o+='<div style="width:1px;height:'+n+'px"></div>';e%n&&(o+='<div style="width:1px;height:'+e%n+'px"></div>'),l.verticalScrollbar.html(o),c.scrollTop=l._scrollTop,l.drag&&l.drag.cancel(),s&&!l._fetching&&(l._rangeStart=i.skip()),l._fetching=!1}}),St={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},Ht=T.extend({init:function(e,t){var r=this;t=I(t)?{dataSource:t}:t,T.fn.init.call(r,e,t),yt=v.support.isRtl(e),r._element(),r._aria(),r._columns(r.options.columns),r._dataSource(),r._tbody(),r._pageable(),r._thead(),r._groupable(),r._toolbar(),r._setContentHeight(),r._templates(),r._navigatable(),r._selectable(),r._details(),r._editable(),r._attachCustomCommandsEvent(),r.options.autoBind?r.dataSource.fetch():r._footer(),v.notify(r)},events:[et,"dataBinding","cancel",lt,ot,nt,Q,Y,Z,J,V,X,at,dt,ct,rt,tt],setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t._pageable(),t.options.groupable&&t._groupable(),t._thead(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.autoBind&&e.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var e,t=this;T.fn.destroy.call(t),t.pager&&t.pager.destroy(),t.groupable&&t.groupable.destroy(),t.options.reorderable&&t.wrapper.data("kendoReorderable").destroy(),t.resizable&&t.resizable.destroy(),t.virtualScrollable&&t.virtualScrollable.destroy(),t._destroyColumnAttachments(),t._destroyEditable(),t.dataSource.unbind(et,t._refreshHandler).unbind(L,t._progressHandler).unbind(B,t._errorHandler),e=t.element.add(t.wrapper).add(t.table).add(t.thead).add(t.wrapper.find(">.k-grid-toolbar")),t.content&&(e=e.add(t.content).add(t.content.find(">.k-virtual-scrollable-wrap"))),e.off(K),v.destroy(t.wrapper)},setOptions:function(e){var t=this;T.fn.setOptions.call(this,e),t._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead.find("th").each(function(){var t=e(this),r=t.data("kendoFilterMenu"),a=t.data("kendoSortable"),l=t.data("kendoColumnMenu");r&&r.destroy(),a&&a.destroy(),l&&l.destroy()})},_attachCustomCommandsEvent:function(){var e,t,r,a=this,l=a.columns||[];for(t=0,r=l.length;r>t;t++)e=l[t].command,e&&s(a,a.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var t=this,r=t.element;r.is("table")||(r=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),r.length||(r=e("<table />").appendTo(t.element))),xt&&r.attr("cellspacing",0),t.table=r.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_positionColumnResizeHandle:function(t){var r,a=this,n=a.options.scrollable,i=a.resizeHandle,s=a.options.columnResizeHandleWidth;a.thead.on("mousemove"+K,"th:not(.k-group-cell,.k-hierarchy-cell)",function(d){var c,u,p,f,h=e(this),g=d.clientX,m=e(window).scrollLeft(),b=h.offset().left+(yt?0:this.offsetWidth);g+m>b-s&&b+s>g+m?(i||(i=a.resizeHandle=e('<div class="k-resize-handle"/>'),t.append(i)),yt?(c=h.closest(".k-grid-header-wrap"),u=Ct.msie?c.scrollLeft():0,p=Ct.webkit?c[0].scrollWidth-c[0].offsetWidth-c.scrollLeft():0,f=Ct.mozilla?c[0].scrollWidth-c[0].offsetWidth-(c[0].scrollWidth-c[0].offsetWidth-c.scrollLeft()):0,r=h.position().left-p+f-u):(r=this.offsetWidth,h.prevAll(":visible").each(function(){r+=this.offsetWidth})),i.css({top:n?0:l(a.wrapper),left:r-s,height:h.outerHeight(),width:3*s}).data("th",h).show()):i?i.hide():o(a.wrapper,"")})},_resizable:function(){var t,r,a,l,n,i,s=this,d=s.options;d.resizable&&(t=d.scrollable?s.wrapper.find(".k-grid-header-wrap:first"):s.wrapper,s._positionColumnResizeHandle(t),s.resizable=new _.Resizable(t,{handle:".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:t.data("th").outerHeight()+s.tbody.attr("clientHeight")})},start:function(t){i=e(t.currentTarget).data("th");var c=e.inArray(i[0],i.parent().children(":visible")),u=s.tbody.parent(),p=s.footer||e();o(s.wrapper,"col-resize"),n=d.scrollable?s.thead.parent().find("col:eq("+c+")").add(u.children("colgroup").find("col:eq("+c+")")).add(p.find("colgroup").find("col:eq("+c+")")):u.children("colgroup").find("col:eq("+c+")"),r=t.x.location,a=i.outerWidth(),l=s.tbody.outerWidth()},resize:function(t){var o=yt?-1:1,i=a+t.x.location*o-r*o,c=s.footer||e();i>10&&(n.css("width",i),d.scrollable&&l&&(s._footerWidth=l+t.x.location*o-r*o,s.tbody.parent().add(s.thead.parent()).add(c.find("table")).css("width",s._footerWidth)))},resizeend:function(){var e,t=i.outerWidth();o(s.wrapper,""),a!=t&&(e=s.columns[i.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(i)],e.width=t,s.trigger(dt,{column:e,oldWidth:a,newWidth:t})),s.resizeHandle.hide(),i=null}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({group:v.guid(),filter:t.content?".k-grid-header:first "+j:"table:first>.k-grid-header "+j,hint:function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(v.attr("title"))||t.attr(v.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var e=this;e.options.reorderable&&e.wrapper.kendoReorderable({draggable:e._draggableInstance,change:function(t){var r=E(e.columns[t.newIndex],e.columns),a=e.columns[t.oldIndex];e.trigger(ct,{newIndex:r,oldIndex:E(a,e.columns),column:a}),e.reorderColumn(r,a)}})},reorderColumn:function(e,t){var r,a,l,o=this,n=E(t,o.columns),s=E(t,d(o.columns)),c=E(o.columns[e],d(o.columns)),u=o.footer||o.wrapper.find(".k-grid-footer");if(n!==e)for(o.columns.splice(n,1),o.columns.splice(e,0,t),o._templates(),i(o.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,c),o.options.scrollable&&i(o.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,c),i(o.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),n,e),u&&u.length&&(i(u.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),s,c),i(u.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)),r=o.tbody.children(":not(.k-grouping-row,.k-detail-row)"),a=0,l=r.length;l>a;a+=1)i(r.eq(a).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)},cellIndex:function(t){return e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)},_modelForContainer:function(t){t=e(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var r=t.attr(v.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var t,r=this,a=r.selectable&&r.selectable.options.multiple,l=r.options.editable,o=function(){var t=x(),a=r._editContainer;!a||e.contains(a[0],t)||a[0]===t||e(t).closest(".k-animation-container").length||r.editable.end()&&r.closeCell()};l&&(t=r._editMode(),"incell"===t?l.update!==!1&&r.wrapper.on(ut+K,"tr:not(.k-grouping-row) > td",function(t){var l=e(this);l.hasClass("k-hierarchy-cell")||l.hasClass("k-detail-cell")||l.hasClass("k-group-cell")||l.hasClass("k-edit-cell")||l.has("a.k-grid-delete").length||l.has("button.k-grid-delete").length||l.closest("tbody")[0]!==r.tbody[0]||e(t.target).is(":input")||(r.editable?r.editable.end()&&(a&&e(x()).blur(),r.closeCell(),r.editCell(l)):r.editCell(l))}).on("focusin"+K,function(){clearTimeout(r.timer),r.timer=null}).on("focusout"+K,function(){r.timer=setTimeout(o,1)}):l.update!==!1&&r.wrapper.on(ut+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(t){t.preventDefault(),r.editRow(e(this).closest("tr"))}),l.destroy!==!1?r.wrapper.on(ut+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(t){t.preventDefault(),t.stopPropagation(),r.removeRow(e(this).closest("tr"))}):r.wrapper.on(ut+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){r._confirmation()||e.preventDefault()}))},editCell:function(t){t=e(t);var r=this,a=r.columns[r.cellIndex(t)],l=r._modelForContainer(t);!l||l.editable&&!l.editable(a.field)||a.command||!a.field||(r._attachModelChange(l),r._editContainer=t,r.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:a.field,format:a.format,editor:a.editor,values:a.values},model:l,change:function(e){r.trigger(V,{values:e.values,container:t,model:l})&&e.preventDefault()}}).data("kendoEditable"),t.parent().addClass("k-grid-edit-row"),r.trigger(J,{container:t,model:l}))},_destroyEditable:function(){var e=this,t=function(){e.editable&&(e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null)};e.editable&&("popup"===e._editMode()?e._editContainer.data("kendoWindow").bind("deactivate",t).close():t())},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,r=e._modelForContainer(t);r&&r.unbind(et,e._modelChangeHandler)},closeCell:function(t){var r,a,l,o=this,n=o._editContainer;n&&(r=n.closest("tr").attr(v.attr("uid")),l=o.dataSource.getByUid(r),t&&o.trigger("cancel",{container:n,model:l})||(n.removeClass("k-edit-cell"),a=o.columns[o.cellIndex(n)],n.parent().removeClass("k-grid-edit-row"),o._destroyEditable(),o._displayCell(n,a,l),n.hasClass("k-dirty-cell")&&e('<span class="k-dirty"/>').prependTo(n)))},_displayCell:function(e,t,r){var a=this,l={storage:{},count:0},o=R({},v.Template,a.options.templateSettings),n=v.template(a._cellTmpl(t,l),o);l.count>0&&(n=W(n,l.storage)),e.empty().html(n(r))},removeRow:function(t){var r,a,l=this;l._confirmation()&&(t=e(t).hide(),r=l._modelForContainer(t),r&&!l.trigger(X,{row:t,model:r})&&(a=l._editMode(),"incell"!==a&&l.cancelRow(),l.dataSource.remove(r),("inline"===a||"popup"===a)&&l.dataSource.sync()))},_editMode:function(){var e="incell",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(r){r=e(r);var a,l=this,o=l._modelForContainer(r),n=l._editMode(),i=l.options.navigatable;l.cancelRow(),o&&(l._attachModelChange(o),"popup"===n?l._createPopupEditor(o):"inline"===n?l._createInlineEditor(r,o):"incell"===n&&e(r).children(F).each(function(){var r=e(this),a=l.columns[r.index()];return o=l._modelForContainer(r),o&&(!o.editable||o.editable(a.field))&&a.field?(l.editCell(r),!1):t}),a=l._editContainer,a.on(ut+K,"a.k-grid-cancel",function(t){if(t.preventDefault(),t.stopPropagation(),!l.trigger("cancel",{container:a,model:o})){var r=l.items().index(e(l.current()).parent());l.cancelRow(),i&&(l.current(l.items().eq(r).children().filter(O).first()),b(l.table,!0))}}),a.on(ut+K,"a.k-grid-update",function(e){e.preventDefault(),e.stopPropagation(),l.saveRow()}))},_createPopupEditor:function(r){var a,l,o,n,i,s,d,c,u,p,f,h=this,g="<div "+v.attr("uid")+'="'+r.uid+'" class="k-popup-edit-form"><div class="k-edit-form-container">',k=[],_=h.options.editable,w=_.template,y=H(_)?_.window:{},C=R({},v.Template,h.options.templateSettings);if(w)for(typeof w===gt&&(w=window.unescape(w)),g+=v.template(w,C)(r),o=0,n=h.columns.length;n>o;o++)a=h.columns[o],a.command&&(c=m(a.command,"edit"),c&&(l=c));else for(o=0,n=h.columns.length;n>o;o++)a=h.columns[o],a.command?a.command&&(c=m(a.command,"edit"),c&&(l=c)):(g+='<div class="k-edit-label"><label for="'+a.field+'">'+(a.title||a.field||"")+"</label></div>",r.editable&&!r.editable(a.field)||!a.field?(p={storage:{},count:0},i=v.template(h._cellTmpl(a,p),C),p.count>0&&(i=W(i,p.storage)),g+='<div class="k-edit-field">'+i(r)+"</div>"):(k.push({field:a.field,format:a.format,editor:a.editor,values:a.values}),g+="<div "+v.attr("container-for")+'="'+a.field+'" class="k-edit-field"></div>'));l&&H(l)&&(l.text&&H(l.text)&&(s=l.text.update,d=l.text.cancel),l.attr&&(u=l.attr)),g+='<div class="k-edit-buttons k-state-default">',g+=h._createButton({name:"update",text:s,attr:u})+h._createButton({name:"canceledit",text:d,attr:u}),g+="</div></div></div>",f=h._editContainer=e(g).appendTo(h.wrapper).eq(0).kendoWindow(R({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(a){if(a.userTriggered){if(h.trigger("cancel",{container:f,model:r}))return a.preventDefault(),t;var l=h.items().index(e(h.current()).parent());h.cancelRow(),h.options.navigatable&&(h.current(h.items().eq(l).children().filter(O).first()),b(h.table,!0))}}},y)),h.editable=h._editContainer.kendoEditable({fields:k,model:r,clearContainer:!1}).data("kendoEditable"),f.data("kendoWindow").center().open(),h.trigger(J,{container:f,model:r})},_createInlineEditor:function(t,r){var a,l,o,n=this,i=[];t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(l=e(this),a=n.columns[n.cellIndex(l)],a.command||!a.field||r.editable&&!r.editable(a.field)){if(a.command&&(o=m(a.command,"edit"))){l.empty();var t,s,d;H(o)&&(o.text&&H(o.text)&&(t=o.text.update,s=o.text.cancel),o.attr&&(d=o.attr)),e(n._createButton({name:"update",text:t,attr:d})+n._createButton({name:"canceledit",text:s,attr:d})).appendTo(l)}}else i.push({field:a.field,format:a.format,editor:a.editor,values:a.values}),l.attr(v.attr("container-for"),a.field),l.empty()}),n._editContainer=t,n.editable=t.addClass("k-grid-edit-row").kendoEditable({fields:i,model:r,clearContainer:!1}).data("kendoEditable"),n.trigger(J,{container:t,model:r})},cancelRow:function(){var e,t=this,r=t._editContainer;r&&(e=t._modelForContainer(r),t.dataSource.cancelChanges(e),"popup"!==t._editMode()?t._displayRow(r):t._displayRow(t.items().filter("["+v.attr("uid")+"="+e.uid+"]")),t._destroyEditable())},saveRow:function(){var e=this,t=e._editContainer,r=e._modelForContainer(t),a=e.editable;t&&a&&a.end()&&!e.trigger(V,{container:t,model:r})&&e.dataSource.sync()},_displayRow:function(t){var r=this,a=r._modelForContainer(t);a&&t.replaceWith(e((t.hasClass("k-alt")?r.altRowTemplate:r.rowTemplate)(a)))},_showMessage:function(e){return window.confirm(e)},_confirmation:function(){var e=this,t=e.options.editable,r=t===!0||typeof t===gt?mt:t.confirmation;return r!==!1&&null!=r?e._showMessage(r):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var e=this;(e.editable&&e.editable.end()||!e.editable)&&!e.trigger(at)&&e.dataSource.sync()},addRow:function(){var e,t,r,a,l,o=this,n=o.dataSource,i=o._editMode(),s=o.options.editable.createAt||"",d=n.pageSize(),c=n.view()||[];(o.editable&&o.editable.end()||!o.editable)&&("incell"!=i&&o.cancelRow(),e=n.indexOf(c[0]),"bottom"==s.toLowerCase()&&(e+=c.length,d&&!n.options.serverPaging&&d<=c.length&&(e-=1)),0>e&&(e=n.page()>n.totalPages()?(n.page()-1)*d:0),t=n.insert(e,{}),r=t.uid,a=o.table.find("tr["+v.attr("uid")+"="+r+"]"),l=a.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(o._firstEditableColumnIndex(a)),"inline"!==i&&"popup"!==i||!a.length?l.length&&o.editCell(l):o.editRow(a))},_firstEditableColumnIndex:function(e){var t,r,a,l=this,o=l.columns,n=l._modelForContainer(e);for(r=0,a=o.length;a>r;r++)if(t=o[r],n&&(!n.editable||n.editable(t.field))&&!t.command&&t.field)return r;return-1},_toolbar:function(){var t,r=this,a=r.wrapper,l=r.options.toolbar,o=r.options.editable;l&&(t=r.wrapper.find(".k-grid-toolbar"),t.length||(M(l)||(l=typeof l===gt?l:r._toolbarTmpl(l).replace(kt,"\\#"),l=W(v.template(l),r)),t=e('<div class="k-toolbar k-grid-toolbar" />').html(l({})).prependTo(a)),o&&o.create!==!1&&t.on(ut+K,".k-grid-add",function(e){e.preventDefault(),r.addRow()}).on(ut+K,".k-grid-cancel-changes",function(e){e.preventDefault(),r.cancelChanges()}).on(ut+K,".k-grid-save-changes",function(e){e.preventDefault(),r.saveChanges()}))},_toolbarTmpl:function(e){var t,r,a=this,l="";if(I(e))for(t=0,r=e.length;r>t;t++)l+=a._createButton(e[t]);return l},_createButton:function(e){var t=e.template||wt,r=typeof e===gt?e:e.name||e.text,l=St[r]?St[r].className:"k-grid-"+(r||"").replace(/\s/g,""),o={className:l,text:r,imageClass:"",attr:"",iconClass:""};if(!(r||H(e)&&e.template))throw Error("Custom commands should have name specified");return H(e)?(e.className&&(e.className+=" "+o.className),"edit"===r&&H(e.text)&&(e=R(!0,{},e),e.text=e.text.edit),e.attr&&H(e.attr)&&(e.attr=a(e.attr)),o=R(!0,o,St[r],e)):o=R(!0,o,St[r]),v.template(t)(o)},_groupable:function(){var t=this;t._groupableClickHandler?t.table.off(ut+K,t._groupableClickHandler):t._groupableClickHandler=function(r){var a=e(this),l=a.closest("tr");a.hasClass("k-i-collapse")?t.collapseGroup(l):t.expandGroup(l),r.preventDefault(),r.stopPropagation()},t.table.on(ut+K,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,r=t.wrapper,a=t.options.groupable;a&&(r.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(r),t.groupable&&t.groupable.destroy(),t.groupable=new y(r,R({},a,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:t.content?".k-grid-header:first "+U:"table:first>.k-grid-header "+U,filter:t.content?".k-grid-header:first "+$:"table:first>.k-grid-header "+$,allowDrag:t.options.reorderable})))},_selectable:function(){var e,r,a=this,l=a.options.selectable;l&&(e=typeof l===gt&&l.toLowerCase().indexOf("multiple")>-1,r=typeof l===gt&&l.toLowerCase().indexOf("cell")>-1,a.selectable=new v.ui.Selectable(a.table,{filter:">"+(r?q:"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:!0,multiple:e,change:function(){a.trigger(et)}}),a.options.navigatable&&a.table.on("keydown"+K,function(l){var o=a.current();if(l.keyCode===S.SPACEBAR&&l.target==a.table[0]&&!o.is(".k-edit-cell,.k-header")&&o.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(l.preventDefault(),l.stopPropagation(),o=r?o:o.parent(),e)if(l.ctrlKey){if(o.hasClass(st))return o.removeClass(st),a.trigger(et),t}else a.selectable.clear();else a.selectable.clear();a.selectable.value(o)}}))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(et)},select:function(r){var a=this,l=a.selectable;return r=e(r),r.length?(l.options.multiple||(l.clear(),r=r.first()),l.value(r),t):l.value()},current:function(r){var a=this,l=a.options.scrollable,o=a._current,n=a.table.add(a.thead.parent());return r!==t&&r.length&&(o&&o[0]===r[0]||(o&&(o.removeClass(it).removeAttr("id"),n.removeAttr("aria-activedescendant")),r.attr("id",a._cellId),a._current=r.addClass(it),n.attr("aria-activedescendant",a._cellId),r.length&&l&&(e.contains(a.content[0],r[0])&&a._scrollTo(r.parent()[0],a.content[0]),l.virtual?a._scrollTo(r[0],a.content.find(">.k-virtual-scrollable-wrap")[0]):a._scrollTo(r[0],a.content[0])))),a._current},_removeCurrent:function(){this._current&&(this._current.removeClass(it),this._current=null)},_scrollTo:function(e,t){var r=e.tagName.toLowerCase(),a="td"===r||"th"===r,l=e[a?"offsetLeft":"offsetTop"],o=e[a?"offsetWidth":"offsetHeight"],n=t[a?"scrollLeft":"scrollTop"],i=t[a?"clientWidth":"clientHeight"],s=l+o,d=0;d=n>l?l:s>n+i?i>=o?s-i:l:n,t[a?"scrollLeft":"scrollTop"]=d},_navigatable:function(){var t=this,r=W(t.current,t),a=t.table,l=t.thead.parent(),o=a,n=v.support.isRtl(t.element);t.options.navigatable&&(t.options.scrollable&&(o=a.add(l),l.attr(ft,-1)),l.on("keydown"+K,function(e){e.altKey&&e.keyCode==S.DOWN&&(r().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),a.attr(ft,N.max(a.attr(ft)||0,0)).on("mousedown"+K+" keydown"+K,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),o.on(v.support.touch?"touchstart"+K:"mousedown"+K,P+">"+O,W(k,t)).on("focus"+K,function(){if(!v.support.touch){var t=r();t&&t.is(":visible")?t.addClass(it):r(e(this).find(G)),this==a[0]?(l.attr(ft,-1),a.attr(ft,0)):(a.attr(ft,-1),l.attr(ft,0))}}).on("focusout"+K,function(){var e=r();e&&e.removeClass(it)}).on("keydown"+K,function(l){var o,i,s,d,c,u,p,f,h=l.keyCode,g=!1,m=!l.isDefaultPrevented()&&!e(l.target).is(":button,a,:input,a>.k-icon"),k=t.options.pageable,v=t.dataSource,_="incell"==t._editMode(),w=l.shiftKey,y=r();y&&y.is("th")&&(m=!0),m&&h==S.UP?(y?(s=y.parent().prevAll(P).first(),s[0]||(c=t.thead.parent(),b(c,!0),s=c.find(P).first()),d=y.index(),y=s.children().eq(d),y[0]&&y.is(O)||(y=s.children(O).first())):y=a.find(G),g=!0,r(y)):m&&h==S.DOWN?(y?(s=y.parent().nextAll(P).first(),!s[0]&&y.is("th")&&(b(t.tbody.parent()),s=t.tbody.find(P).first()),d=y.index(),y=s.children().eq(d),y[0]&&y.is(O)||(y=s.children(O).first())):y=a.find(G),g=!0,r(y)):m&&h==(n?S.RIGHT:S.LEFT)?(r(y?y.prevAll(F+":first"):a.find(G)),g=!0):m&&h==(n?S.LEFT:S.RIGHT)?(y?y.next()[0]&&(y=y.nextAll(F+":first")):y=a.find(G),g=!0,r(y)):m&&k&&S.PAGEDOWN==h?(v.page(v.page()+1),g=!0):m&&k&&S.PAGEUP==h?(v.page(v.page()-1),g=!0):h==S.ENTER||S.F2==h?(y=y?y:a.find(G),y.is("th")?(y.find(".k-link").click(),g=!0):y.parent().is(".k-master-row,.k-grouping-row")?(y.parent().find(".k-icon:first").click(),g=!0):(u=y.find(":focusable:first"),!y.hasClass("k-edit-cell")&&u[0]&&y.hasClass("k-state-focused")?(u.focus(),g=!0):t.options.editable&&!e(l.target).is(":button,.k-button")&&(p=e(l.target).closest("[role=gridcell]"),p[0]||(p=y),t._handleEditing(p),g=!0))):S.ESC==h?(o=x(),y&&e.contains(y[0],o)&&!y.hasClass("k-edit-cell")&&!y.parent().hasClass("k-grid-edit-row")?(b(t.table[0],!0),g=!0):!t._editContainer||y&&!t._editContainer.has(y[0])&&y[0]!==t._editContainer[0]||(_?t.closeCell(!0):(i=t.items().index(e(y).parent()),o&&o.blur(),t.cancelRow(),i>=0&&t.current(t.items().eq(i).children().filter(O).first())),Ct.msie&&Ct.version<9&&document.body.focus(),b(a,!0),g=!0)):S.TAB==h&&(y=e(y),t.options.editable&&_&&(f=e(x()).closest(".k-edit-cell"),f[0]&&f[0]!==y[0]&&(y=f)),f=w?y.prevAll(F+":first"):y.nextAll(":visible:first"),f.length||(f=y.parent()[w?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(F+(w?":last":":first"))),!y.is("th")&&f.length&&t.options.editable&&_&&(t._handleEditing(y,f),g=!0)),g&&(l.preventDefault(),l.stopPropagation())}))},_handleEditing:function(r,a){var l,o,n=this,i=e(x()),s=n._editMode(),d=Ct.msie,c=d&&Ct.version<9,u=n._editContainer;if(o="incell"==s?r.hasClass("k-edit-cell"):r.parent().hasClass("k-grid-edit-row"),n.editable){if(e.contains(u[0],i[0])&&(Ct.opera||c?i.change().triggerHandler("blur"):(i.blur(),d&&i.blur())),!n.editable)return b(n.table),t;if(!n.editable.end())return"incell"==s?n.current(u):n.current(u.children().filter(F).first()),l=u.find(":focusable:first")[0],l&&l.focus(),t;"incell"==s?n.closeCell():(n.saveRow(),o=!0)}a&&n.current(a),c&&document.body.focus(),b(n.table,!0),(!o&&!a||a)&&("incell"==s?n.editCell(n.current()):n.editRow(n.current().parent()))},_wrapper:function(){var e=this,t=e.table,r=e.options.height,a=e.element;a.is("div")||(a=a.wrap("<div/>").parent()),e.wrapper=a.addClass("k-grid k-widget k-secondary"),r&&(e.wrapper.css(pt,r),t.css(pt,"auto"))},_tbody:function(){var t,r=this,a=r.table;t=a.find(">tbody"),t.length||(t=e("<tbody/>").appendTo(a)),r.tbody=t},_scrollable:function(){var t,r,a,l,o,n=this,i=n.options,s=i.scrollable,d=s!==!0&&s.virtual&&!n.virtualScrollable,c=!v.support.kineticScrollNeeded||d?v.support.scrollbar():0;s&&(t=n.wrapper.children(".k-grid-header"),t[0]||(t=e('<div class="k-grid-header" />').insertBefore(n.table)),t.css(yt?"padding-left":"padding-right",s.virtual?c+1:c),r=e('<table role="grid" />'),xt&&r.attr("cellspacing",0),r.append(n.thead),t.empty().append(e('<div class="k-grid-header-wrap" />').append(r)),n.content=n.table.parent(),n.content.is(".k-virtual-scrollable-wrap")&&(n.content=n.content.parent()),n.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(n.content=n.table.wrap('<div class="k-grid-content" />').parent()),d&&(n.virtualScrollable=new Tt(n.content,{dataSource:n.dataSource,itemHeight:W(n._averageRowHeight,n)})),n.scrollables=t.children(".k-grid-header-wrap"),a=n.wrapper.find(".k-grid-footer"),l=yt&&Ct.webkit?c:0,a.length&&(n.scrollables=n.scrollables.add(a.children(".k-grid-footer-wrap"))),s.virtual?n.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+K,function(){n.scrollables.scrollLeft(this.scrollLeft+l)
}):(n.content.bind("scroll"+K,function(){n.scrollables.scrollLeft(this.scrollLeft+l)}),o=v.touchScroller(n.content),o&&o.movable&&o.movable.bind("change",function(e){n.scrollables.scrollLeft(-e.sender.x)})))},_setContentHeight:function(){var e,t=this,r=t.options,a=t.wrapper.innerHeight(),l=t.wrapper.children(".k-grid-header"),o=v.support.scrollbar();r.scrollable&&(a-=l.outerHeight(),t.pager&&(a-=t.pager.element.outerHeight()),r.groupable&&(a-=t.wrapper.children(".k-grouping-header").outerHeight()),r.toolbar&&(a-=t.wrapper.children(".k-grid-toolbar").outerHeight()),t.footerTemplate&&(a-=t.wrapper.children(".k-grid-footer").outerHeight()),e=function(e){var t,r;return e[0].style.height?!0:(t=e.height(),e.height("auto"),r=e.height(),t!=r?(e.height(""),!0):(e.height(""),!1))},e(t.wrapper)&&(a>2*o?t.content.height(a):t.content.height(2*o+1)))},_averageRowHeight:function(){var e,t=this,r=t._rowHeight;return t._rowHeight||(t._rowHeight=r=t.table.outerHeight()/t.items().length,t._sum=r,t._measures=1),e=t.table.outerHeight()/t.items().length,r!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures),r},_dataSource:function(){var e,r=this,a=r.options,l=a.dataSource;l=I(l)?{data:l}:l,H(l)&&(R(l,{table:r.table,fields:r.columns}),e=a.pageable,H(e)&&e.pageSize!==t&&(l.pageSize=e.pageSize)),r.dataSource&&r._refreshHandler?r.dataSource.unbind(et,r._refreshHandler).unbind(L,r._progressHandler).unbind(B,r._errorHandler):(r._refreshHandler=W(r.refresh,r),r._progressHandler=W(r._requestStart,r),r._errorHandler=W(r._error,r)),r.dataSource=w.create(l).bind(et,r._refreshHandler).bind(L,r._progressHandler).bind(B,r._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var r,a,l,o,n=this,i=t.model,s=n.tbody.find("tr["+v.attr("uid")+"="+i.uid+"]"),d=s.hasClass("k-alt"),c=n.items().index(s);if(s.children(".k-edit-cell").length&&!n.options.rowTemplate)s.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){r=e(this),a=n.columns[n.cellIndex(r)],a.field===t.field&&(r.hasClass("k-edit-cell")?r.addClass("k-dirty-cell"):(n._displayCell(r,a,i),e('<span class="k-dirty"/>').prependTo(r)))});else if(!s.hasClass("k-grid-edit-row")){for(l=(d?n.altRowTemplate:n.rowTemplate)(i),s.replaceWith(l),l=n.items().eq(c),c=0,o=n.columns.length;o>c;c++)a=n.columns[c],a.field===t.field&&(r=l.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(c),e('<span class="k-dirty"/>').prependTo(r));n.trigger("itemChange",{item:l,data:i,ns:_})}},_pageable:function(){var t,r=this,a=r.options.pageable;a&&(t=r.wrapper.children("div.k-grid-pager"),t.length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(r.wrapper)),r.pager&&r.pager.destroy(),r.pager="object"==typeof a&&a instanceof v.ui.Pager?a:new v.ui.Pager(t,R({},a,{dataSource:r.dataSource})))},_footer:function(){var t,r,a=this,l=a.dataSource.aggregates(),o="",i=a.footerTemplate,s=a.options,d=a.footer||a.wrapper.find(".k-grid-footer");i?(l=z(l)?n(a.dataSource.aggregate()):l,o=e(a._wrapFooter(i(l))),d.length?(r=o,d.replaceWith(r),d=a.footer=r):d=a.footer=s.scrollable?s.pageable?o.insertBefore(a.wrapper.children("div.k-grid-pager")):o.appendTo(a.wrapper):o.insertBefore(a.tbody)):d&&!a.footer&&(a.footer=d),d.length&&(s.scrollable&&(t=d.attr("tabindex",-1).children(".k-grid-footer-wrap"),a.scrollables=a.scrollables.not(".k-grid-footer-wrap").add(t)),a._footerWidth&&d.find("table").css("width",a._footerWidth),t&&t.scrollLeft(a.content.scrollLeft()))},_wrapFooter:function(t){var r=this,a="",l=v.support.mobileOS?0:v.support.scrollbar();return r.options.scrollable?(a=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(xt?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),r._appendCols(a.find("table")),a.css(yt?"padding-left":"padding-right",l),a):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var t,r,a,l,o,n,i=this,s=i.columns,d=i.options,c=d.columnMenu,u=function(){b(i.thead.parent(),!0)},p=function(e){i.trigger(Z,{field:e.field,container:e.container})};c&&("boolean"==typeof c&&(c={}),i.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(f){r=s[f],n=e(this),r.command||!r.field&&!n.attr("data-"+v.ns+"field")||(t=n.data("kendoColumnMenu"),t&&t.destroy(),l=r.sortable!==!1&&c.sortable!==!1?d.sortable:!1,o=d.filterable&&r.filterable!==!1&&c.filterable!==!1?R({},r.filterable,d.filterable):!1,a={dataSource:i.dataSource,values:r.values,columns:c.columns,sortable:l,filterable:o,messages:c.messages,owner:i,closeCallback:u,init:p},n.kendoColumnMenu(a))}))},_filterable:function(){var t,r,a=this,l=a.columns,o=function(){b(a.thead.parent(),!0)},n=a.options.filterable;n&&!a.options.columnMenu&&a.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){t=e(this),l[i].filterable===!1||l[i].command||!l[i].field&&!t.attr("data-"+v.ns+"field")||(r=t.data("kendoFilterMenu"),r&&r.destroy(),t.kendoFilterMenu(R(!0,{},n,l[i].filterable,{dataSource:a.dataSource,values:l[i].values,closeCallback:o,init:function(e){a.trigger(Y,{field:e.field,container:e.container})}})))})},_sortable:function(){var t,r,a,l=this,o=l.columns,n=l.options.sortable;n&&l.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){t=o[i],t.sortable!==!1&&!t.command&&t.field&&(r=e(this),a=r.data("kendoSortable"),a&&a.destroy(),r.attr("data-"+v.ns+"field",t.field).kendoSortable(R({},n,t.sortable,{dataSource:l.dataSource,aria:!0})))})},_columns:function(t){var r,a=this,l=a.table,o=l.find("col"),n=a.options.dataSource;t=t.length?t:A(l.find("th"),function(t,r){t=e(t);var a=t.attr(v.attr("sortable")),l=t.attr(v.attr("filterable")),n=t.attr(v.attr("type")),i=t.attr(v.attr("groupable")),s=t.attr(v.attr("field")),d=t.attr(v.attr("menu"));return s||(s=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:s,type:n,sortable:"false"!==a,filterable:"false"!==l,groupable:"false"!==i,menu:d,template:t.attr(v.attr("template")),width:o.eq(r).css("width")}}),r=!(a.table.find("tbody tr").length>0&&(!n||!n.transport)),a.columns=A(t,function(e){return e=typeof e===gt?{field:e}:e,e.hidden&&(e.attributes=c(e.attributes),e.footerAttributes=c(e.footerAttributes),e.headerAttributes=c(e.headerAttributes)),R({encoded:r},e)})},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t){var l,o,n,i,s=this,d=R({},v.Template,s.options.templateSettings),c=s.columns.length,u={storage:{},count:0},p=s._hasDetails(),f=[],h=s._groups();if(!e){for(e="<tr",t&&f.push("k-alt"),p&&f.push("k-master-row"),f.length&&(e+=' class="'+f.join(" ")+'"'),c&&(e+=" "+v.attr("uid")+'="#='+v.expr("uid",d.paramName)+'#"'),e+=" role='row'>",h>0&&(e+=r(h)),p&&(e+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),l=0;c>l;l++)n=s.columns[l],o=n.template,i=typeof o,e+="<td"+a(n.attributes)+" role='gridcell'>",e+=s._cellTmpl(n,u),e+="</td>";e+="</tr>"}return e=v.template(e,d),u.count>0?W(e,u.storage):e},_headerCellText:function(e){var t=this,r=R({},v.Template,t.options.templateSettings),a=e.headerTemplate,l=typeof a,o=e.title||e.field||"";return l===ht?o=v.template(a,r)({}):l===gt&&(o=a),o},_cellTmpl:function(e,t){var r,a,l=this,o=R({},v.Template,l.options.templateSettings),n=e.template,i=o.paramName,s=e.field,d="",c=e.format,u=typeof n,p=e.values;if(e.command){if(I(e.command)){for(r=0,a=e.command.length;a>r;r++)d+=l._createButton(e.command[r]);return d.replace(kt,"\\#")}return l._createButton(e.command).replace(kt,"\\#")}return u===ht?(t.storage["tmpl"+t.count]=n,d+="#=this.tmpl"+t.count+"("+i+")#",t.count++):u===gt?d+=n:p&&p.length&&H(p[0])&&"value"in p[0]&&s?(d+="#var v ="+v.stringify(f(p))+"#",d+="#var f = v[",o.useWithBlock||(d+=i+"."),d+=s+"]#",d+="${f != null ? f : ''}"):(d+=e.encoded?"#:":"#=",c&&(d+='kendo.format("'+c.replace(bt,"\\$1")+'",'),s?(s=v.expr(s,i),d+=s+"==null?'':"+s):d+="''",c&&(d+=")"),d+="#"),d},_templates:function(){var t=this,r=t.options,a=t.dataSource,l=a.group(),o=t.footer||t.wrapper.find(".k-grid-footer"),n=a.aggregate();t.rowTemplate=t._tmpl(r.rowTemplate),t.altRowTemplate=t._tmpl(r.altRowTemplate||r.rowTemplate,!0),t._hasDetails()&&(t.detailTemplate=t._detailTmpl(r.detailTemplate||"")),(t._group&&!z(n)||!z(n)&&!o.length||D(t.columns,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(n,"footerTemplate","k-footer-template")),l&&D(t.columns,function(e){return e.groupFooterTemplate}).length&&(n=e.map(l,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(n,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(e,t,l){var o,i,s,d,c,u=this,p=R({},v.Template,u.options.templateSettings),f=p.paramName,h="",g=u.columns,m={},b=0,k={},_=u._groups(),w=n(e);for(h+='<tr class="'+l+'">',_>0&&(h+=r(_)),u._hasDetails()&&(h+='<td class="k-hierarchy-cell">&nbsp;</td>'),o=0,i=u.columns.length;i>o;o++)c=g[o],s=c[t],d=typeof s,h+="<td"+a(c.footerAttributes)+">",s?(d!==ht&&(k=w[c.field]?R({},p,{paramName:f+"."+c.field}):{},s=v.template(s,k)),m["tmpl"+b]=s,h+="#=this.tmpl"+b+"("+f+")#",b++):h+="&nbsp;",h+="</td>";return h+="</tr>",h=v.template(h,p),b>0?W(h,m):h},_detailTmpl:function(e){var t=this,a="",l=R({},v.Template,t.options.templateSettings),o=l.paramName,n={},i=0,s=t._groups(),c=d(t.columns).length,u=typeof e;return a+='<tr class="k-detail-row">',s>0&&(a+=r(s)),a+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">",u===ht?(n["tmpl"+i]=e,a+="#=this.tmpl"+i+"("+o+")#",i++):a+=e,a+="</td></tr>",a=v.template(a,l),i>0?W(a,n):a},_hasDetails:function(){var e=this;return null!==e.options.detailTemplate||(e._events[Q]||[]).length},_details:function(){var t=this;t.table.on(ut+K,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(r){var a,l,o=e(this),n=o.hasClass("k-plus"),i=o.closest("tr.k-master-row"),s=t.detailTemplate,d=t._hasDetails();return o.toggleClass("k-plus",!n).toggleClass("k-minus",n),d&&!i.next().hasClass("k-detail-row")&&(l=t.dataItem(i),e(s(l)).addClass(i.hasClass("k-alt")?"k-alt":"").insertAfter(i),t.trigger(Q,{masterRow:i,detailRow:i.next(),data:l,detailCell:i.next().find(".k-detail-cell")})),a=i.next(),t.trigger(n?ot:nt,{masterRow:i,detailRow:a}),a.toggle(n),t._current&&t._current.attr("aria-expanded",n),r.preventDefault(),!1})},dataItem:function(t){if(t=e(t)[0],!t)return null;var r,a,l=this.tbody.children(),o=/k-grouping-row|k-detail-row|k-group-footer/,n=t.sectionRowIndex;for(a=n,r=0;n>r;r++)o.test(l[r].className)&&a--;return this._data[a]},expandRow:function(t){e(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){e(t).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var r,l,o,n,i,s=this,d=s.columns,c=s._hasDetails()&&d.length,u="",p=s.table.find(">thead");if(p.length||(p=e("<thead/>").insertBefore(s.tbody)),o=s.element.find("tr:has(th):first"),o.length||(o=p.children().first(),o.length||(o=e("<tr/>"))),o.children().length)c&&!o.find(".k-hierarchy-cell")[0]&&o.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(c&&(u+='<th class="k-hierarchy-cell">&nbsp;</th>'),r=0,l=d.length;l>r;r++)i=d[r],n=s._headerCellText(i),i.command?u+="<th"+a(i.headerAttributes)+">"+n+"</th>":(u+="<th role='columnheader' "+v.attr("field")+"='"+(i.field||"")+"' ",i.title&&(u+=v.attr("title")+'="'+i.title.replace(/'/g,"'")+'" '),i.groupable!==t&&(u+=v.attr("groupable")+"='"+i.groupable+"' "),i.aggregates&&(u+=v.attr("aggregates")+"='"+i.aggregates+"'"),u+=a(i.headerAttributes),u+=">"+n+"</th>");o.html(u)}o.find("th").addClass("k-header"),s.options.scrollable||p.addClass("k-grid-header"),o.find("script").remove().end().appendTo(p),s.thead&&s._destroyColumnAttachments(),s.thead=p,s._sortable(),s._filterable(),s._scrollable(),s._updateCols(),s._resizable(),s._draggable(),s._reorderable(),s.groupable&&s._attachGroupable(),s._columnMenu()},_updateCols:function(){var e=this;e._appendCols(e.thead.parent().add(e.table))},_appendCols:function(e){var t=this;p(e,d(t.columns),t._hasDetails(),t._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,r=this;e=e.toJSON();for(t in e)r.columns.push({field:t});r._thead(),r._templates()}},_rowsHtml:function(e){var t,r,a=this,l="",o=a.rowTemplate,n=a.altRowTemplate;for(t=0,r=e.length;r>t;t++)l+=t%2?n(e[t]):o(e[t]),a._data.push(e[t]);return l},_groupRowHtml:function(e,t,a){var l,o,n=this,i="",s=e.field,d=D(n.columns,function(e){return e.field==s})[0]||{},c=d.groupHeaderTemplate,u=(d.title||s)+": "+h(e.value,d.format,d.values),p=R({},{field:e.field,value:e.value},e.aggregates[e.field]),f=n._groupAggregatesDefaultObject||{},g=e.items;if(c&&(u=typeof c===ht?c(p):v.template(c)(p)),i+='<tr class="k-grouping-row">'+r(a)+'<td colspan="'+t+'" aria-expanded="true">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+u+"</p></td></tr>",e.hasSubgroups)for(l=0,o=g.length;o>l;l++)i+=n._groupRowHtml(g[l],t-1,a+1);else i+=n._rowsHtml(g);return n.groupFooterTemplate&&(i+=n.groupFooterTemplate(R(f,e.aggregates))),i},collapseGroup:function(r){r=e(r).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var a,l,o=r.find(".k-group-cell").length,n=1;r.find("td:first").attr("aria-expanded",!1),r.nextAll("tr").each(function(){return l=e(this),a=l.find(".k-group-cell").length,l.hasClass("k-grouping-row")?n++:l.hasClass("k-group-footer")&&n--,o>=a||l.hasClass("k-group-footer")&&0>n?!1:(l.hide(),t)})},expandGroup:function(r){r=e(r).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var a,l,o=this,n=r.find(".k-group-cell").length,i=1;r.find("td:first").attr("aria-expanded",!0),r.nextAll("tr").each(function(){return a=e(this),l=a.find(".k-group-cell").length,n>=l?!1:(l!=n+1||a.hasClass("k-detail-row")||(a.show(),a.hasClass("k-grouping-row")&&a.find(".k-icon").hasClass("k-i-collapse")&&o.expandGroup(a),a.hasClass("k-master-row")&&a.find(".k-icon").hasClass("k-minus")&&a.next().show()),a.hasClass("k-grouping-row")&&i++,a.hasClass("k-group-footer")&&(1==i?a.show():i--),t)})},_updateHeader:function(t){var r=this,a=r.thead.find("th.k-group-cell"),l=a.length;t>l?e(Array(t-l+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(r.thead.find("tr")):l>t&&(l-=t,e(D(a,function(e,t){return l>t})).remove())},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},hideColumn:function(t){var r,a,l,o,n,i,s,u,p,f=this,h=0,m=f.footer||f.wrapper.find(".k-grid-footer"),b=f.columns;if(t="number"==typeof t?b[t]:D(b,function(e){return e.field===t})[0],t&&!t.hidden){for(p=E(t,d(b)),t.hidden=!0,t.attributes=c(t.attributes),t.footerAttributes=c(t.footerAttributes),t.headerAttributes=c(t.headerAttributes),f._templates(),f._updateCols(),g(f.thead.find(">tr")[0].cells,p,!1),m[0]&&(f._appendCols(m.find("table:first")),g(m.find(".k-footer-template")[0].cells,p,!1)),r=f.tbody.children(),n=0,u=r.length;u>n;n+=1)a=r.eq(n),a.is(".k-grouping-row,.k-detail-row")?(l=a.children(":not(.k-group-cell):first,.k-detail-cell").last(),l.attr("colspan",parseInt(l.attr("colspan"),10)-1)):(a.hasClass("k-grid-edit-row")&&(l=a.children(".k-edit-container")[0])&&(l=e(l),l.attr("colspan",parseInt(l.attr("colspan"),10)-1),l.find("col").eq(p).remove(),a=l.find("tr:first")),g(a[0].cells,p,!1));for(i=f.thead.prev().find("col"),n=0,u=i.length;u>n;n+=1){if(s=i[n].style.width,!s||-1!=s.indexOf("%")){h=0;break}h+=parseInt(s,10)}o=e(">.k-grid-header table:first,>.k-grid-footer table:first",f.wrapper).add(f.table),f._footerWidth=null,h&&(o.width(h),f._footerWidth=h),Ct.msie&&8==Ct.version&&(o.css("display","inline-table"),setTimeout(function(){o.css("display","table")},1)),f.trigger(tt,{column:t})}},showColumn:function(t){var r,a,l,o,n,i,s,c,f,h,m=this,b=m.columns,k=m.footer||m.wrapper.find(".k-grid-footer");if(t="number"==typeof t?b[t]:D(b,function(e){return e.field===t})[0],t&&t.hidden){for(h=E(t,b),t.hidden=!1,t.attributes=u(t.attributes),t.footerAttributes=u(t.footerAttributes),t.headerAttributes=u(t.headerAttributes),m._templates(),m._updateCols(),g(m.thead.find(">tr")[0].cells,h,!0),k[0]&&(m._appendCols(k.find("table:first")),g(k.find(".k-footer-template")[0].cells,h,!0)),r=m.tbody.children(),a=0,l=r.length;l>a;a+=1)o=r.eq(a),o.is(".k-grouping-row,.k-detail-row")?(n=o.children(":not(.k-group-cell):first,.k-detail-cell").last(),n.attr("colspan",parseInt(n.attr("colspan"),10)+1)):(o.hasClass("k-grid-edit-row")&&(n=o.children(".k-edit-container")[0])&&(n=e(n),n.attr("colspan",parseInt(n.attr("colspan"),10)+1),p(n.find(">form>table"),d(b),!1,0),o=n.find("tr:first")),g(o[0].cells,h,!0));if(i=e(">.k-grid-header table:first,>.k-grid-footer table:first",m.wrapper).add(m.table),t.width){for(s=0,f=m.thead.prev().find("col"),a=0,l=f.length;l>a;a+=1){if(c=f[a].style.width,c.indexOf("%")>-1){s=0;break}s+=parseInt(c,10)}m._footerWidth=null,s&&(i.width(s),m._footerWidth=s)}else i.width("");m.trigger(rt,{column:t})}},_progress:function(e){var t=this,r=t.element.is("table")?t.element.parent():t.content&&t.content.length?t.content:t.element;v.ui.progress(r,e)},refresh:function(t){var r,a,l,o,i,s,c=this,u="",p=c.dataSource.view(),f=c.options.navigatable,h=e(c.current()),g=!1,m=(c.dataSource.group()||[]).length,k=m+d(c.columns).length;if(!(t&&"itemchange"===t.action&&c.editable||(t=t||{},c.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})))){if(s=x(),f&&(c.table[0]===s||e.contains(c.table[0],s)||c._editContainer&&c._editContainer.data("kendoWindow"))&&(g=h.is("th"),i=0,g&&(i=c.thead.find("th:not(.k-group-cell)").index(h))),c._destroyEditable(),c._progress(!1),c._data=[],c.columns.length||(c._autoColumns(c._firstDataItem(p[0],m)),k=m+c.columns.length),c._group=m>0||c._group,c._group&&(c._templates(),c._updateCols(),c._updateHeader(m),c._group=m>0),m>0)for(c.detailTemplate&&k++,c.groupFooterTemplate&&(c._groupAggregatesDefaultObject=n(c.dataSource.aggregate())),a=0,r=p.length;r>a;a++)u+=c._groupRowHtml(p[a],k,0);else u+=c._rowsHtml(p);C?c.tbody[0].innerHTML=u:(o=document.createElement("div"),o.innerHTML="<table><tbody>"+u+"</tbody></table>",l=o.firstChild.firstChild,c.table[0].replaceChild(l,c.tbody[0]),c.tbody=e(l)),c._footer(),c._setContentHeight(),i>=0&&(c._removeCurrent(),g?c.current(c.thead.find("th:not(.k-group-cell)").eq(i)):c.current(c.items().eq(i).children().filter(F).first()),c._current&&b(c._current.closest("table")[0],!0)),c.trigger(lt)}}});_.plugin(Ht),_.plugin(Tt)}(window.kendo.jQuery)});